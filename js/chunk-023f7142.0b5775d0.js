(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-023f7142"],{"0ccb":function(e,t,s){var i=s("50c4"),n=s("1148"),a=s("1d80"),r=Math.ceil,o=function(e){return function(t,s,o){var c,l,d=String(a(t)),u=d.length,m=void 0===o?" ":String(o),p=i(s);return p<=u||""==m?d:(c=p-u,l=n.call(m,r(c/m.length)),l.length>c&&(l=l.slice(0,c)),e?d+l:l+d)}};e.exports={start:o(!1),end:o(!0)}},"12df":function(e,t,s){"use strict";s.r(t),s.d(t,"ClientDashboard",(function(){return p})),s.d(t,"ClientAccount",(function(){return w})),s.d(t,"ClientPassword",(function(){return P})),s.d(t,"ClientAddresses",(function(){return F})),s.d(t,"ClientCredits",(function(){return H})),s.d(t,"ClientFavourite",(function(){return W})),s.d(t,"ClientOrders",(function(){return te})),s.d(t,"ClientPayments",(function(){return ve})),s.d(t,"ClientPhone",(function(){return Oe})),s.d(t,"ClientPreferences",(function(){return Ae})),s.d(t,"ClientRecommendations",(function(){return Fe})),s.d(t,"ClientReservations",(function(){return qe})),s.d(t,"ClientSubscriptions",(function(){return it}));var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"es_client-dashboard-container bg_gray content"},[s("div",{staticClass:"container margin_30_20"},[s("div",{staticClass:"row bg-white"},[s("div",{staticClass:"col-md-2 border-right mt-4"},e._l(e.getSidebarLinks,(function(t){return s("div",{key:t.id,staticClass:"p-1 m-1"},[s("router-link",{attrs:{to:t.to}},[e._v(e._s(t.label))])],1)})),0),s("div",{staticClass:"col-md-10 mt-4"},[s("router-view",{staticClass:"p-1 m-1"})],1)])])])},n=[],a=(s("d81d"),s("5530")),r=s("2b0e"),o=s("21af"),c=s("e1bd"),l=r["default"].extend({name:"es-client-dashboard",computed:{getSidebarLinks:function(){return o["b"].map((function(e){return Object(a["a"])(Object(a["a"])({},e),{},{id:Object(c["a"])()})}))}}}),d=l,u=s("2877"),m=Object(u["a"])(d,i,n,!1,null,null,null),p=m.exports,v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"es_client-account-container content"},[s("h4",[e._v(e._s(e.$t("generic.account")))]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",[e._v(e._s(e.$t("generic.first_name")))]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.first_name,expression:"user.first_name"}],staticClass:"form-control",attrs:{type:"text",name:"name"},domProps:{value:e.user.first_name},on:{input:function(t){t.target.composing||e.$set(e.user,"first_name",t.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[e._v(e._s(e.$t("generic.name")))]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.last_name,expression:"user.last_name"}],staticClass:"form-control",attrs:{type:"text",name:"firstName"},domProps:{value:e.user.last_name},on:{input:function(t){t.target.composing||e.$set(e.user,"last_name",t.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[e._v(e._s(e.$t("generic.email_address")))]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{disabled:"",type:"text",name:"email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[e._v(e._s(e.$t("generic.notifications")))]),s("div",{staticClass:"radio_c_group"},[s("label",{staticClass:"container_check",on:{click:function(t){t.preventDefault(),e.account_settings.email_news=!e.account_settings.email_news}}},[e._v(e._s(e.$t("generic.email"))+" "),s("input",{attrs:{type:"checkbox",value:"checkbox",name:"notification-email-type"},domProps:{checked:e.account_settings.email_news?"checked":""}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"container_check",on:{click:function(t){t.preventDefault(),e.account_settings.sms_news=!e.account_settings.sms_news}}},[e._v(e._s(e.$t("generic.sms"))+" "),s("input",{attrs:{type:"checkbox",value:"checkbox",name:"notification-sms-type"},domProps:{checked:e.account_settings.sms_news?"checked":""}}),s("span",{staticClass:"checkmark"})]),s("label",{staticClass:"container_check",on:{click:function(t){t.preventDefault(),e.account_settings.phone_news=!e.account_settings.phone_news}}},[e._v(e._s(e.$t("generic.phone"))+" "),s("input",{attrs:{type:"checkbox",value:"checkbox",name:"notification-phone-type"},domProps:{checked:e.account_settings.phone_news?"checked":""}}),s("span",{staticClass:"checkmark"})])])]),s("div",{staticClass:"d-flex justify-content-end"},[s("button",{staticClass:"btn btn-sm btn-pink btn-pill my-4 px-6",on:{click:function(t){return t.preventDefault(),e.onSave()}}},[e._v(" "+e._s(e.$t("generic.save"))+" ")])])])])])},_=[],f=s("2f62"),h=s("32e8"),g=r["default"].extend({name:"es-client-account",data:function(){return{user:{first_name:"",last_name:"",email:""},account_settings:{send_app_notifications:!1,sms_news:!1,email_news:!1,phone_news:!1}}},created:function(){var e=this.getUser,t=e.first_name,s=e.last_name,i=e.email,n=e.account_setting;this.user={first_name:t,last_name:s,email:i},this.account_settings=Object(a["a"])({},n)},watch:{getUser:function(e,t){Object(h["a"])(e,t)||this.$toasts.toast({id:"update-toast",title:this.$t("toast.congrats_title"),message:this.$t("toast.account_update"),intent:"success"})}},computed:Object(a["a"])({},Object(f["c"])({getUser:"session/getUser"})),methods:Object(a["a"])(Object(a["a"])({},Object(f["b"])({updateUser:"session/updateUser"})),{},{onSave:function(){this.updateUser(this.$data)}})}),b=g,C=Object(u["a"])(b,v,_,!1,null,null,null),w=C.exports,y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"es_client-password-container content"},[s("h4",[e._v(e._s(e.$t("generic.change_password")))]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",[e._v(e._s(e.$t("generic.old_password")))]),"checkbox"===e.newPassType?s("input",{directives:[{name:"model",rawName:"v-model",value:e.oldPassword,expression:"oldPassword"}],staticClass:"form-control",attrs:{id:"old-password",name:"old-password",type:"checkbox"},domProps:{checked:Array.isArray(e.oldPassword)?e._i(e.oldPassword,null)>-1:e.oldPassword},on:{change:function(t){var s=e.oldPassword,i=t.target,n=!!i.checked;if(Array.isArray(s)){var a=null,r=e._i(s,a);i.checked?r<0&&(e.oldPassword=s.concat([a])):r>-1&&(e.oldPassword=s.slice(0,r).concat(s.slice(r+1)))}else e.oldPassword=n}}}):"radio"===e.newPassType?s("input",{directives:[{name:"model",rawName:"v-model",value:e.oldPassword,expression:"oldPassword"}],staticClass:"form-control",attrs:{id:"old-password",name:"old-password",type:"radio"},domProps:{checked:e._q(e.oldPassword,null)},on:{change:function(t){e.oldPassword=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.oldPassword,expression:"oldPassword"}],staticClass:"form-control",attrs:{id:"old-password",name:"old-password",type:e.newPassType},domProps:{value:e.oldPassword},on:{input:function(t){t.target.composing||(e.oldPassword=t.target.value)}}}),"password"===e.newPassType?s("span",{staticClass:"show-password-btn",on:{click:function(t){t.preventDefault(),e.newPassType="text"}}},[e._v(e._s(e.$t("generic.password_show")))]):e._e(),"text"===e.newPassType?s("span",{staticClass:"show-password-btn",on:{click:function(t){t.preventDefault(),e.newPassType="password"}}},[e._v(e._s(e.$t("generic.password_hide")))]):e._e()]),s("div",{staticClass:"form-group"},[s("label",[e._v(e._s(e.$t("generic.new_password")))]),"checkbox"===e.oldPassType?s("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword,expression:"newPassword"}],staticClass:"form-control",attrs:{id:"new-password",name:"new-password",type:"checkbox"},domProps:{checked:Array.isArray(e.newPassword)?e._i(e.newPassword,null)>-1:e.newPassword},on:{change:function(t){var s=e.newPassword,i=t.target,n=!!i.checked;if(Array.isArray(s)){var a=null,r=e._i(s,a);i.checked?r<0&&(e.newPassword=s.concat([a])):r>-1&&(e.newPassword=s.slice(0,r).concat(s.slice(r+1)))}else e.newPassword=n}}}):"radio"===e.oldPassType?s("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword,expression:"newPassword"}],staticClass:"form-control",attrs:{id:"new-password",name:"new-password",type:"radio"},domProps:{checked:e._q(e.newPassword,null)},on:{change:function(t){e.newPassword=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword,expression:"newPassword"}],staticClass:"form-control",attrs:{id:"new-password",name:"new-password",type:e.oldPassType},domProps:{value:e.newPassword},on:{input:function(t){t.target.composing||(e.newPassword=t.target.value)}}}),"password"===e.oldPassType?s("span",{staticClass:"show-password-btn",on:{click:function(t){t.preventDefault(),e.oldPassType="text"}}},[e._v(" "+e._s(e.$t("generic.show")))]):e._e(),"text"===e.oldPassType?s("span",{staticClass:"show-password-btn",on:{click:function(t){t.preventDefault(),e.oldPassType="password"}}},[e._v(e._s(e.$t("generic.hide")))]):e._e()]),s("div",{staticClass:"d-flex justify-content-end"},[s("div",{staticClass:"d-flex align-items-center mr-4"},[s("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.isForgotPasswordModalOpen=!0}}},[e._v(" "+e._s(e.$t("generic.forgot_password"))+" ")])]),s("button",{staticClass:"btn btn-sm btn-pink btn-pill my-4 px-6",on:{click:function(t){return t.preventDefault(),e.onSave()}}},[e._v(" "+e._s(e.$t("generic.save"))+" ")])])])]),e.isForgotPasswordModalOpen?s("es-forgot-password-modal",{attrs:{"is-open":e.isForgotPasswordModalOpen},model:{value:e.isForgotPasswordModalOpen,callback:function(t){e.isForgotPasswordModalOpen=t},expression:"isForgotPasswordModalOpen"}}):e._e(),e.isResetPasswordModalOpen?s("es-reset-password-modal",{attrs:{"is-open":e.isResetPasswordModalOpen},model:{value:e.isResetPasswordModalOpen,callback:function(t){e.isResetPasswordModalOpen=t},expression:"isResetPasswordModalOpen"}}):e._e()],1)},x=[],O=s("684e"),$=s("1bf2"),S=r["default"].extend({name:"es-client-password",components:{"es-forgot-password-modal":O["a"],"es-reset-password-modal":$["a"]},data:function(){return{isForgotPasswordModalOpen:!1,isResetPasswordModalOpen:!1,showPassword:!1,oldPassword:null,newPassword:null,newPassType:"password",oldPassType:"password"}},methods:Object(a["a"])(Object(a["a"])({},Object(f["b"])({changePassword:"session/changePassword"})),{},{onSave:function(){var e=this.newPassword,t=this.oldPassword,s=this.newPassword&&this.oldPassword;s?this.changePassword({old_password:t,new_password:e}):this.$toasts.toast({id:"password-toast",title:this.$t("toast.error"),message:this.$t("toast.wrong_password"),intent:"warning"})}})}),k=S,j=Object(u["a"])(k,y,x,!1,null,null,null),P=j.exports,A=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"es_client-addresses-container content"},[s("h4",[e._v(e._s(e.$t("generic.address")))]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[e._l(e.getAddresses,(function(t){return s("div",{key:t.id,class:(t.main?"active":"")+" client-address-item",on:{click:function(s){return s.preventDefault(),e.onSelect(t)}}},[s("div",{staticClass:"address"},[s("div",[e._v(e._s(e.getAddress(t)))]),t.main?s("div",{staticClass:"mt-2"},[s("span",{staticClass:"icon_check_alt"}),s("span",{staticClass:"ml-2"},[e._v(e._s(e.$t("generic.main_address")))])]):e._e()]),s("div",{staticClass:"my-4"},[s("a",{staticClass:"my-4 mr-2",attrs:{href:""},on:{click:function(s){return s.preventDefault(),s.stopPropagation(),e.onEdit(t)}}},[s("i",{staticClass:"icon_pencil-edit"}),e._v(" "+e._s(e.$t("generic.edit"))+" ")]),s("a",{staticClass:"my-4",attrs:{href:""},on:{click:function(s){return s.preventDefault(),s.stopPropagation(),e.onRemove(t)}}},[s("div",[s("i",{staticClass:"icon_trash_alt"}),e._v(" "+e._s(e.$t("generic.delete"))+" ")])])])])})),s("div",{staticClass:"d-flex justify-content-end"},[s("button",{staticClass:"btn btn-sm btn-pink btn-pill my-4 px-6",on:{click:function(t){t.preventDefault(),e.isAddressModalOpen=!0}}},[e._v(" "+e._s(e.$t("generic.add"))+" ")])])],2)]),e.isAddressModalCompleteOpen?s("es-address-modal-complete",{attrs:{"selected-address":e.selectedAddress},model:{value:e.isAddressModalCompleteOpen,callback:function(t){e.isAddressModalCompleteOpen=t},expression:"isAddressModalCompleteOpen"}}):e._e(),e.isAddressModalOpen?s("es-address-modal",{attrs:{"is-massage-view":!1},model:{value:e.isAddressModalOpen,callback:function(t){e.isAddressModalOpen=t},expression:"isAddressModalOpen"}}):e._e(),s("es-confirm-modal",{on:{"on-confirm":function(t){return e.onContinue()}},model:{value:e.isConfirmModalOpen,callback:function(t){e.isConfirmModalOpen=t},expression:"isConfirmModalOpen"}},[s("template",{slot:"title"},[e._v(e._s(e.getConfirmationModalTitle))]),s("template",{slot:"message"},[e._v(e._s(e.getConfirmationModalMessage))])],2),s("es-confirm-modal",{attrs:{cta:"Ok"},on:{"on-confirm":function(t){e.isAlertModalOpen=!1}},model:{value:e.isAlertModalOpen,callback:function(t){e.isAlertModalOpen=t},expression:"isAlertModalOpen"}},[s("template",{slot:"title"},[e._v(e._s(e.$t("delete.default.address.title")))]),s("template",{slot:"message"},[e._v(e._s(e.$t("delete.default.address.text")))])],2)],1)},M=[],R=(s("99af"),s("0d03"),s("b0c0"),s("d3b7"),s("25f0"),s("96cf"),s("1da1")),T=s("bd42"),D=r["default"].extend({name:"es-client-addresses",components:{"es-address-modal":T["a"],"es-address-modal-complete":T["b"]},data:function(){return{isAlertModalOpen:!1,isConfirmModalOpen:!1,isAddressModalCompleteOpen:!1,isAddressModalOpen:!1,selectedAddress:{},modalTitle:"",modalMessage:"",method:""}},computed:Object(a["a"])(Object(a["a"])({},Object(f["c"])({getAddresses:"address/getAddresses"})),{},{getConfirmationModalTitle:function(){return this.modalTitle},getConfirmationModalMessage:function(){return this.modalMessage}}),watch:{isAddressModalCompleteOpen:function(e){e||this.fetchAddresses()}},created:function(){this.fetchAddresses()},methods:Object(a["a"])(Object(a["a"])({},Object(f["b"])({fetchAddresses:"address/fetchAddresses",removeAddress:"address/removeAddress",setDefaultAddress:"address/setDefaultAddress"})),{},{getAddress:function(e){return"".concat(e.street_name,", Nr.\n            ").concat(e.street_number,", ").concat(this.$t(e.city.name))},onEdit:function(e){this.selectedAddress=e,this.isAddressModalCompleteOpen=!0},onSelect:function(e){e.main||(this.method="select",this.selectedAddress=e,this.modalTitle=this.$t("change.default.address.title").toString(),this.modalMessage="".concat(this.$t("generic.set_question").toString()," ").concat(this.getAddress(e)," ").concat(this.$t("generic.set_primary_address").toString()),this.isConfirmModalOpen=!0)},onRemove:function(e){e.main?this.isAlertModalOpen=!0:(this.method="remove",this.selectedAddress=e,this.modalTitle=this.$t("generic.address_delete").toString(),this.modalMessage="".concat(this.$t("generic.address_delete_question").toString()," ").concat(this.getAddress(e),"?"),this.isConfirmModalOpen=!0)},onContinue:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("select"!==e.method){t.next=3;break}return t.next=3,e.setDefaultAddress(e.selectedAddress.id);case 3:if("remove"!==e.method){t.next=6;break}return t.next=6,e.removeAddress(e.selectedAddress.id);case 6:return t.next=8,e.fetchAddresses();case 8:case"end":return t.stop()}}),t)})))()}})}),E=D,L=(s("a8bf"),Object(u["a"])(E,A,M,!1,null,null,null)),F=L.exports,U=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"es_client-credits-container content"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8"},[s("h4",[e._v(e._s(e.$t("views.client_dashboard.ease_credit.ease_credit"))+" "+e._s(parseInt(e.getUser.ease_credit,10))+" Lei")]),s("es-divider"),s("h6",[e._v(e._s(e.$t("views.client_dashboard.ease_credit.description")))]),s("div",{staticClass:"d-flex flex-wrap justify-content-start align-items-center"},[s("div",[s("label",[e._v(e._s(e.$t("views.client_dashboard.ease_credit.gift_card_code")))]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],staticClass:"form-control px-3 mr-4",attrs:{id:"credit-code",type:"text",name:"credit-code"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}})]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("button",{staticClass:"btn btn-sm btn-pink btn-pill my-4 px-6",on:{click:function(t){return e.onValidate()}}},[e._v(" "+e._s(e.$t("views.client_dashboard.ease_credit.apply"))+" ")]),s("button",{staticClass:"btn btn-sm btn-pink btn-pill ml-2 my-4 px-6",on:{click:function(t){return e.$router.push("/client/recomandare")}}},[e._v(" "+e._s(e.$t("generic.recommend"))+" ")])])])])],1)]),s("es-divider"),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},e._l(e.getCreditEaseHistory,(function(t){return s("div",{key:t.id,staticClass:"reservation-list-item d-flex align-items-center justify-content-between my-2"},[s("h6",{staticClass:"m-0"},[e._v(e._s(t.id))]),s("div",{staticClass:"m-2"},[e._v(e._s(t.created_at.substr(0,10)))]),s("div",{staticClass:"m-2"},[e._v(e._s(t.reason))]),s("div",{staticClass:"m-2"},[e._v(e._s(t.amount)+" Lei")])])})),0)])],1)},I=[],N=r["default"].extend({name:"es-client-credits",data:function(){return{code:""}},computed:Object(a["a"])({},Object(f["c"])({getUser:"session/getUser",getCreditEaseHistory:"giftCards/getCreditEaseHistory",getAppliedGiftCard:"giftCards/getAppliedGiftCard"})),watch:{getAppliedGiftCard:function(e,t){e!==t&&(this.fetchUser(),this.$toasts.toast({id:Object(c["a"])(),intent:"info",title:"Felicitari!",message:"Codul a fost activat cu success!"}))}},created:function(){this.fetchCreditOrderHistory()},methods:Object(a["a"])(Object(a["a"])({},Object(f["b"])({fetchCreditOrderHistory:"giftCards/fetchCreditOrderHistory",applyGiftCard:"giftCards/applyGiftCard",fetchUser:"session/getUser"})),{},{onValidate:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.applyGiftCard(e.code);case 2:case"end":return t.stop()}}),t)})))()}})}),V=N,G=(s("d55e"),Object(u["a"])(V,U,I,!1,null,"6352af54",null)),H=G.exports,z=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"es_client-favourite-container content"},[i("h4",[e._v(e._s(e.$t("generic.saved_elites")))]),e.getEliteFavorites.length?i("div",{staticClass:"row"},e._l(e.getEliteFavorites,(function(t,n){return i("div",{key:t.id+"-"+n,staticClass:"col-md-2 d-flex flex-column align-items-center",on:{click:function(s){return e.$router.push("/pro/"+t.id)}}},[i("figure",{staticClass:"mb-0 d-flex justify-content-center"},[t.avatar_path?i("img",{class:"radius-50 m-1 "+(t.located_in_current_users_city?"":"disabled"),attrs:{src:t.avatar_path,alt:"",width:"120px",height:"120px"}}):i("img",{class:"radius-50 m-1 "+(t.located_in_current_users_city?"":"disabled"),attrs:{src:s("4b61"),alt:"",width:"120px",height:"120px"}})]),i("span",{staticClass:"text-center"},[e._v(e._s(t.first_name))]),i("span",[e._v(e._s(t.located_in_current_users_city?"yes":"no"))]),i("div",{staticClass:"d-flex align-items-center"},[i("i",{staticClass:"icon_star"}),i("span",{staticClass:"mt-1 ml-2"},[e._v(e._s(Number(t.rating)>0?t.rating:"Momentan nu exista nicio recenzie."))])])])})),0):i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("div",{staticClass:"d-flex flex-column"},[i("h4",[e._v(e._s(e.$t("views.client_dashboard.favourite_elite.no_favourite_title")))]),i("p",[e._v(e._s(e.$t("views.client_dashboard.favourite_elite.no_favourite_description")))])]),i("div",{staticClass:"d-flex justify-content-end"},[i("button",{staticClass:"btn btn-sm btn-pink btn-pill ml-2 my-4 px-4",on:{click:function(t){return e.$router.push("rezervarile-mele")}}},[e._v(" "+e._s(e.$t("generic.my_reservations"))+" ")])])])])])},q=[],B=r["default"].extend({name:"es-client-favourite",created:function(){this.fetchEliteFavorites()},computed:Object(a["a"])({},Object(f["c"])({getEliteFavorites:"elite/getEliteFavorites"})),methods:Object(a["a"])({},Object(f["b"])({fetchEliteFavorites:"elite/fetchEliteFavorites"}))}),J=B,K=(s("712c"),Object(u["a"])(J,z,q,!1,null,"b3463638",null)),W=K.exports,Y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"es_client-orders-container content"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("h4",[e._v(e._s(e.$t("generic.my_orders")))])])]),s("div",{staticClass:"row"},[e.isListView?s("div",{staticClass:"col-md-6"},[e.getGiftCardsHistory.length?s("div",e._l(e.getGiftCardsHistory,(function(t){return s("div",{key:t.id,staticClass:"reservation-list-item d-flex align-items-center justify-content-between my-2"},[s("h6",{staticClass:"m-0"},[e._v(e._s(e.$t("generic.gift_card")))]),s("div",{staticClass:"m-2"},[e._v(e._s(t.send_at.substr(0,10)))]),s("div",{staticClass:"m-2"},[e._v(e._s(t.value)+" Lei")]),s("div",{staticClass:"m-2"},[e._v(e._s(e.getStatus(t.payment.status)))]),s("div",{staticClass:"my-4"},[s("a",{staticClass:"pricing-plan-link",attrs:{href:""},on:{click:function(s){return s.preventDefault(),e.onSelect(t)}}},[e._v(" "+e._s(e.$t("generic.view_details"))+" ")])])])})),0):s("div",{staticClass:"d-flex align-items-center justify-content-between"},[s("h4",[e._v(e._s(e.$t("views.client_dashboard.my_orders.no_orders")))])]),s("div",{staticClass:"d-flex justify-content-end"},[s("button",{staticClass:"btn btn-sm btn-pink btn-pill my-4 px-6",on:{click:function(t){return e.$router.push("/carduri-cadou")}}},[e._v(" "+e._s(e.$t("generic.give_a_gift_card"))+" ")])])]):s("div",{staticClass:"col-md-6"},[s("a",{staticClass:"back-button",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.onBack()}}},[e._v(" "+e._s(e.$t("generic.back"))+" ")]),s("div",{staticClass:"mt-4"},[s("figure",{staticClass:"mb-0"},[s("img",{attrs:{src:e.selectedCard.card_design.absolute_image_url,alt:"",width:"240px"}})]),s("h6",{staticClass:"mt-4"},[e._v(e._s(e.$t("views.client_dashboard.my_orders.order_nr"))+" "+e._s(e.selectedCard.gift_card_id))]),s("ul",{staticClass:"summary_list"},[s("li",[s("strong",[e._v(e._s(e.$t("views.client_dashboard.my_orders.sent_on")))]),e._v(e._s(e.selectedCard.send_at.substr(0,10)))]),s("li",[s("strong",[e._v(e._s(e.$t("generic.total")))]),e._v(e._s(e.selectedCard.payment.amount)+" Lei")])]),s("h6",[e._v(e._s(e.$t("generic.order_sum")))]),s("div",{staticClass:"d-flex flex-inline mt-4"},[s("h6",{staticClass:"mr-5 mb-0"},[e._v(e._s(e.$t("generic.from")))]),s("p",{staticClass:"mb-0"},[e._v(e._s(e.selectedCard.from_name))])]),s("div",{staticClass:"d-flex flex-inline mt-4"},[s("h6",{staticClass:"mr-4"},[e._v(e._s(e.$t("generic.for")))]),s("div",{staticClass:"d-flex flex-column"},[s("p",{staticClass:"mb-0"},[e._v(e._s(e.selectedCard.name))]),s("p",{staticClass:"mb-0"},[e._v(e._s(e.selectedCard.email))])])]),s("div",{staticClass:"d-flex flex-inline mt-4"},[s("h6",{staticClass:"mr-4"},[e._v(e._s(e.$t("generic.sent")))]),s("p",{staticClass:"mb-0"},[e._v(e._s(e.getDate))])]),e.selectedCard.message?s("div",{staticClass:"d-flex flex-inline mt-4"},[s("h6",{staticClass:"mr-4"},[e._v(e._s(e.$t("generic.message")))]),s("div",{staticClass:"d-flex flex-column"},[s("p",{staticClass:"mb-0"},[e._v(e._s(e.selectedCard.message))])])]):e._e(),s("ul",{staticClass:"summary_list col-md-6"},[s("es-divider"),s("li",{staticClass:"d-flex justify-content-between"},[s("strong",[e._v(e._s(e.$t("views.client_dashboard.my_orders.total")))]),e._v(e._s(e.selectedCard.payment.amount)+" Lei")])],1)])])])])},Z=[],Q=(s("accc"),r["default"].extend({name:"es-client-orders",data:function(){return{isListView:!0,selectedCard:null}},computed:Object(a["a"])(Object(a["a"])({},Object(f["c"])({getGiftCardsHistory:"giftCards/getGiftCardsHistory"})),{},{getDate:function(){var e=this.selectedCard.send_at;return new Date(e).toISOString().substr(0,10)}}),created:function(){this.fetchGiftCardsOrderHistory()},methods:Object(a["a"])(Object(a["a"])({},Object(f["b"])({fetchGiftCardsOrderHistory:"giftCards/fetchGiftCardsOrderHistory"})),{},{getStatus:function(e){var t={succeeded:"Plasata cu success"};return t[e]},onBack:function(){this.selectedReservation=null,this.isListView=!0},onSelect:function(e){this.selectedCard=e,this.isListView=!1}})})),X=Q,ee=Object(u["a"])(X,Y,Z,!1,null,null,null),te=ee.exports,se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"es_client-payments-container content"},[s("h4",[e._v(e._s(e.$t("generic.cards")))]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4"},[e.getCards.length?s("div",e._l(e.getCards,(function(t){return s("div",{key:t.id,class:(t.primary?"active":"")+" client-payment-card-item",on:{click:function(s){return s.preventDefault(),e.onSelect(t)}}},[s("div",{staticClass:"card-number",domProps:{innerHTML:e._s(e.getCardInfo(t))}}),s("div",{class:"d-flex flex-row align-items-center justify-content-"+(t.primary?"between":"end")+" mt-2"},[t.primary?s("div",[s("span",{staticClass:"icon_check_alt"}),s("span",{staticClass:"ml-2"},[e._v(e._s(e.$t("generic.main_card")))])]):e._e(),s("a",{staticClass:"mr-2",attrs:{href:""},on:{click:function(s){return s.preventDefault(),s.stopPropagation(),e.onRemove(t)}}},[s("i",{staticClass:"icon_trash_alt"}),e._v(" "+e._s(e.$t("generic.delete"))+" ")])])])})),0):s("div",{staticClass:"d-flex align-items-center justify-content-between my-2 mx-4"},[s("h4",[e._v(e._s(e.$t("views.client_dashboard.payment_methods.description")))])]),s("div",{staticClass:"d-flex justify-content-end"},[s("button",{staticClass:"btn btn-sm btn-pink btn-pill my-4 px-6",on:{click:function(t){return t.preventDefault(),e.addPayment()}}},[e._v(" "+e._s(e.$t("views.client_dashboard.payment_methods.add"))+" ")])])])]),s("es-confirm-modal",{on:{"on-confirm":function(t){return e.onContinue()}},model:{value:e.isConfirmModalOpen,callback:function(t){e.isConfirmModalOpen=t},expression:"isConfirmModalOpen"}},[s("template",{slot:"title"},[e._v(e._s(e.getConfirmationModalTitle))]),s("template",{slot:"message"},[s("span",{domProps:{innerHTML:e._s(e.getConfirmationModalMessage)}})])],2),e.isCreditCardModalOpen?s("es-credit-card-modal",{model:{value:e.isCreditCardModalOpen,callback:function(t){e.isCreditCardModalOpen=t},expression:"isCreditCardModalOpen"}}):e._e()],1)},ie=[],ne=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("portal",{attrs:{to:"modal"}},[s("es-modal",{attrs:{id:"modal",size:"sm","on-dismiss":function(){return e.$emit("is-open",!1)}}},[s("div",{staticClass:"container es-login-modal mt-12"},[s("div",{staticClass:"es-card-modal",attrs:{id:"es-modal-dialog"}},[s("div",{staticClass:"modal_header"},[s("h3",[e._v(e._s(e.$t("generic.add_card")))]),s("button",{staticClass:"mfp-close",on:{click:function(t){return e.$emit("is-open",!1)}}})]),s("div",{staticClass:"credit-card-wrapper mt-4"},[s("es-payment",{staticClass:"mt-4",attrs:{"is-fetching":e.isFetching,"is-authenticated":!0},on:{"on-add-card":function(t){return e.$emit("is-open",!1)},"on-cancel":function(t){e.showAddPayment=!1}}})],1)])])])],1)},ae=[],re=s("6a5d"),oe=r["default"].extend({name:"es-credit-card-modal",model:{prop:"is-open",event:"is-open"},props:{isOpen:{required:!0,type:Boolean}},components:{"es-payment":re["a"]},computed:Object(a["a"])({},Object(f["c"])({isFetching:"cards/isFetching"}))}),ce=oe,le=Object(u["a"])(ce,ne,ae,!1,null,null,null),de=le.exports,ue=r["default"].extend({name:"es-client-payments",components:{"es-credit-card-modal":de},data:function(){return{isConfirmModalOpen:!1,isCreditCardModalOpen:!1,selectedCard:null,modalTitle:"",modalMessage:"",method:""}},computed:Object(a["a"])(Object(a["a"])({},Object(f["c"])({getCards:"cards/getCards"})),{},{getConfirmationModalTitle:function(){return this.modalTitle},getConfirmationModalMessage:function(){return this.modalMessage}}),watch:{isConfirmModalOpen:function(e){e||(this.fetchCards(),"remove"===this.method&&this.getCards.length>0&&this.$toasts.toast({id:"remove-card",title:this.$t("toast.success_title"),message:this.$t("toast.remove_card"),intent:"success"}))},isCreditCardModalOpen:function(e){e||this.fetchCards()}},created:function(){this.fetchCards()},methods:Object(a["a"])(Object(a["a"])({},Object(f["b"])({fetchCards:"cards/fetchCards",setDefaultCard:"cards/setDefaultCard",removeCard:"cards/removeCard",addCard:"cards/addCard"})),{},{getCardInfo:function(e){return"&#128179; ".concat(e.brand&&e.brand.toUpperCase()," **** ").concat(e.last4," (exp: ").concat(e.exp_month,"/").concat(e.exp_year,")")},addPayment:function(){this.addCard(),this.isCreditCardModalOpen=!0},onSelect:function(e){e.main||(this.method="select",this.selectedCard=e,this.modalTitle=this.$t("views.client_dashboard.payment_methods.change_default_card_title").toString(),this.modalMessage="".concat(this.$t("generic.set_question").toString()," ").concat(this.getCardInfo(e)," ").concat(this.$t("generic.set_primary_card").toString()),this.isConfirmModalOpen=!0)},onRemove:function(e){this.method="remove",this.selectedCard=e,this.modalTitle=this.$t("views.client_dashboard.payment_methods.delete_card").toString(),this.modalMessage="".concat(this.$t("generic.cards_delete").toString()," ").concat(this.getCardInfo(e),"?"),this.isConfirmModalOpen=!0},onContinue:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("select"!==e.method){t.next=3;break}return t.next=3,e.setDefaultCard(e.selectedCard);case 3:if("remove"!==e.method){t.next=6;break}return t.next=6,e.removeCard(e.selectedCard);case 6:case"end":return t.stop()}}),t)})))()}})}),me=ue,pe=(s("29f6"),Object(u["a"])(me,se,ie,!1,null,null,null)),ve=pe.exports,_e=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"es_client-phone-container content"},[s("h4",[e._v(e._s(e.$t("generic.phone_nr")))]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4"},[e.phone?s("div",{staticClass:"form-group"},[s("label",[e._v(e._s(e.$t("generic.phone_nr_verified")))]),s("es-phone-number-input",{attrs:{id:"phone","no-example":!0,required:!0,translations:e.translations,name:"phone","default-country-code":"RO",color:"#ced4da",disabled:""},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1):s("div",[s("p",[e._v(e._s(e.$t("generic.please_add_your_phone_nr")))])]),s("div",{staticClass:"d-flex justify-content-end"},[s("button",{staticClass:"btn btn-sm btn-pink btn-pill my-4 px-6",on:{click:function(t){t.preventDefault(),e.isPhoneValidateModalOpen=!0}}},[e._v(" "+e._s(e.phone?"Modifica":"Adauga")+" ")])])])]),e.isPhoneValidateModalOpen?s("es-phone-validate-modal",{attrs:{"is-open":e.isPhoneValidateModalOpen},on:{"show-phone-confirmation-modal":function(t){e.isPhoneConfirmationModalOpen=!0}},model:{value:e.isPhoneValidateModalOpen,callback:function(t){e.isPhoneValidateModalOpen=t},expression:"isPhoneValidateModalOpen"}}):e._e(),e.isPhoneConfirmationModalOpen?s("es-phone-confirmation-modal",{attrs:{"is-open":e.isPhoneConfirmationModalOpen},model:{value:e.isPhoneConfirmationModalOpen,callback:function(t){e.isPhoneConfirmationModalOpen=t},expression:"isPhoneConfirmationModalOpen"}}):e._e()],1)},fe=[],he=s("7bec"),ge=s.n(he),be=s("a5fd"),Ce=s("49db"),we=r["default"].extend({name:"es-client-phone",components:{"es-phone-validate-modal":be["a"],"es-phone-confirmation-modal":Ce["a"],"es-phone-number-input":ge.a},data:function(){return{translations:{countrySelectorLabel:this.$t("generic.phone_nr_country_selector"),countrySelectorError:this.$t("generic.phone_nr_selector_error"),phoneNumberLabel:this.$t("generic.phone_nr_label"),example:this.$t("generic.phone_nr_example")},phone:"",isPhoneConfirmationModalOpen:!1,isPhoneValidateModalOpen:!1}},watch:{getUser:function(e,t){e.phone_number!==t.phone_number&&(this.phone=e.phone_number)}},computed:Object(a["a"])({},Object(f["c"])({getUser:"session/getUser"})),created:function(){var e=this.getUser.phone_number;this.phone=e}}),ye=we,xe=Object(u["a"])(ye,_e,fe,!1,null,null,null),Oe=xe.exports,$e=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"es_client-preferences-container content"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("h4",[e._v(e._s(e.$t("views.client_dashboard.preferences.title")))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("h6",[e._v(e._s(e.$t("account.preferedPresure")))]),s("div",{staticClass:"row mt-5"},[s("div",{staticClass:"col-md-1"},[s("span",[e._v(e._s(e.$t("account.mildPresure")))])]),s("div",{staticClass:"col-md-6"},[s("es-vue-slider",e._b({ref:"slider",staticClass:"ml-2",model:{value:e.pressureLevel,callback:function(t){e.pressureLevel=t},expression:"pressureLevel"}},"es-vue-slider",e.massageOptions,!1))],1),s("div",{staticClass:"col-md-1"},[s("span",[e._v(e._s(e.$t("account.strongPresure")))])])])])]),s("div",{staticClass:"row mt-4"},[s("div",{staticClass:"col-md-4"},[s("h6",[e._v(e._s(e.$t("account.preferedConversation")))]),s("es-vue-slider",e._b({ref:"slider",staticClass:"ml-2 mt-5",model:{value:e.talkingLevel,callback:function(t){e.talkingLevel=t},expression:"talkingLevel"}},"es-vue-slider",e.conversationOptions,!1))],1)]),s("div",{staticClass:"row mt-4"},[s("div",{staticClass:"col-md-4"},[s("h6",[e._v(e._s(e.$t("account.aromaToBeAvoided")))]),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.avoidedScents,expression:"avoidedScents"}],staticClass:"form-control",attrs:{type:"text",name:"avoidedScents"},domProps:{value:e.avoidedScents},on:{input:function(t){t.target.composing||(e.avoidedScents=t.target.value)}}})])])]),s("div",{staticClass:"row mt-4"},[s("div",{staticClass:"col-md-4"},[s("h6",[e._v(e._s(e.$t("account.notes")))]),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.notes,expression:"notes"}],staticClass:"form-control",attrs:{type:"text",name:"notes",placeholder:"Ex: stare de sanatate, conditie fizica, alte particularitati"},domProps:{value:e.notes},on:{input:function(t){t.target.composing||(e.notes=t.target.value)}}})]),s("div",{staticClass:"d-flex justify-content-end"},[s("button",{staticClass:"btn btn-sm btn-pink btn-pill my-4 px-6",on:{click:function(t){return t.preventDefault(),e.onSave(t)}}},[e._v(" "+e._s(e.$t("generic.save"))+" ")])])])])])},Se=[],ke=r["default"].extend({name:"es-client-preferences",data:function(){var e=this;return{pressureLevel:1,talkingLevel:0,notes:null,avoidedScents:null,massageOptions:{dotSize:25,height:10,min:1,max:10,interval:1,clickable:!0,duration:.5},conversationOptions:{dotSize:25,height:10,min:0,max:2,interval:1,clickable:!0,duration:.5,tooltipFormatter:function(t){var s=["account.quietPlease","account.someTalkingIsFine","account.talkWithMe"];return e.$t(s[t])}}}},computed:Object(a["a"])({},Object(f["c"])({getUser:"session/getUser"})),created:function(){var e=this.getUser.service_preference;e&&(this.notes=e.notes,this.avoidedScents=e.avoided_scents,this.talkingLevel=1,this.pressureLevel=e.pressure_level)},methods:Object(a["a"])(Object(a["a"])({},Object(f["b"])({savePreferences:"session/savePreferences"})),{},{onSave:function(){this.savePreferences({pressure_level:this.pressureLevel,talking_level:this.talkingLevel,notes:this.notes,avoided_scents:this.avoidedScents})}})}),je=ke,Pe=Object(u["a"])(je,$e,Se,!1,null,null,null),Ae=Pe.exports,Me=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"es_client-recommendations-container content"},[s("h4",[e._v(e._s(e.$t("generic.recommend")))]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",[e._v(e._s(e.$t("views.client_dashboard.recommend.title_description")))]),s("div",{staticClass:"d-flex align-items-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],staticClass:"form-control",attrs:{id:"code",type:"text",name:"code",disabled:""},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),s("span",{staticClass:"copy-btn",on:{click:function(t){return t.preventDefault(),e.onCopy(t)}}},[e._v(e._s(e.$t("generic.copy")))])])]),e._m(0)])])])},Re=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"d-flex flex-row"},[i("figure",[i("img",{staticClass:"lazy mx-2",attrs:{src:s("b6a5"),alt:"",width:"35",height:"35"}})]),i("figure",[i("img",{staticClass:"lazy mx-2",attrs:{src:s("cb41"),alt:"",width:"35",height:"35"}})])])}],Te=s("8cd4"),De=r["default"].extend({name:"es-client-recommendations",data:function(){return{code:""}},computed:Object(a["a"])({},Object(f["c"])({getUser:"session/getUser"})),watch:{getUser:function(e){e&&(this.code=e.referral_code)}},created:function(){this.fetchUser()},methods:Object(a["a"])(Object(a["a"])({},Object(f["b"])({fetchUser:"session/getUser"})),{},{onCopy:function(){var e="".concat(this.$router.currentRoute.fullPath,"?referral_code=").concat(this.code);Object(Te["a"])(e),this.$toasts.toast({id:Object(c["a"])(),message:this.$t("toast.referral_link_copied"),title:this.$t("toast.success_title"),intent:"success"})}})}),Ee=De,Le=Object(u["a"])(Ee,Me,Re,!1,null,null,null),Fe=Le.exports,Ue=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"es_client-reservations-container content"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-8 col-sm-6"},[i("h4",[e._v(e._s(e.$t("generic.my_reservations")))]),i("es-divider"),e.isListView?i("div",[i("ul",{staticClass:"nav nav-pills pricing-tab mb-4",attrs:{id:"pricing-tab",role:"tablist"}},[i("li",{staticClass:"nav-item",on:{click:function(t){e.selectedType="past"}}},[i("a",{class:"nav-link "+("past"===e.selectedType?"active":""),attrs:{id:"past-tab","data-toggle":"pill",href:"#past",role:"tab","aria-controls":"past","aria-selected":"past"===e.selectedType?"true":"false"}},[e._v(e._s(e.$t("generic.previous_reservations")))])]),i("li",{staticClass:"nav-item",on:{click:function(t){e.selectedType="upcoming"}}},[i("a",{class:"nav-link "+("upcoming"===e.selectedType?"active":""),attrs:{id:"upcoming-tab","data-toggle":"pill",href:"#upcoming",role:"tab","aria-controls":"upcoming","aria-selected":"upcoming"===e.selectedType?"true":"false"}},[e._v(e._s(e.$t("generic.future_reservations")))])])]),i("div",{staticClass:"tab-content pricing-tab-content",attrs:{id:"pricing-tab-content"}},[e.getReservationList.length?i("div",e._l(e.getReservationList,(function(t,n){return i("div",{key:t.id+"-"+n,staticClass:"reservation-list-item d-flex align-items-center justify-content-between my-2"},[i("h6",{staticClass:"m-0"},[e._v(e._s(e.$t(e.getReservationName(t))))]),i("div",{staticClass:"m-2"},[e._v(e._s(t.start_time.substr(0,10)))]),i("div",{staticClass:"d-flex flex-column align-items-center m-2"},[e.getReservationJobs(t).slice(0,2).length>0?i("div",{staticClass:"d-flex flex-row align-items-center"},e._l(e.getReservationJobs(t).slice(0,2),(function(t){return i("figure",{key:t.id,staticClass:"mb-0"},[t.avatar?i("img",{staticClass:"radius-50 m-1",attrs:{src:t.avatar,alt:"",width:"40px",height:"40px"},on:{click:function(s){return e.onEliteSelect(t.eliteId)}}}):i("img",{staticClass:"radius-50 m-1",attrs:{src:s("4b61"),alt:"",width:"40px",height:"40px"},on:{click:function(s){return e.onEliteSelect(t.eliteId)}}})])})),0):e._e(),e.getReservationJobs(t).slice(2).length>0?i("div",{staticClass:"d-flex flex-row align-items-center"},e._l(e.getReservationJobs(t).slice(2),(function(t){return i("figure",{key:t.id,staticClass:"mb-0"},[t.avatar?i("img",{staticClass:"radius-50 m-1",attrs:{src:t.avatar,alt:"",width:"40px",height:"40px"},on:{click:function(s){return e.onEliteSelect(t.eliteId)}}}):i("img",{staticClass:"radius-50 m-1",attrs:{src:s("4b61"),alt:"",width:"40px",height:"40px"}})])})),0):e._e(),i("span",{staticClass:"ml-2"},[e._v(e._s(e.getEliteName(t.reservation_jobs[0].elite)))])]),i("div",{staticClass:"ml-2"},[i("span",[e._v(e._s(e.getStatus(t.status)))])]),i("div",{staticClass:"my-4"},[i("a",{staticClass:"pricing-plan-link",attrs:{href:""},on:{click:function(s){return s.preventDefault(),e.onSelect(t)}}},[e._v(" "+e._s(e.$t("generic.view_details"))+" ")])])])})),0):i("div",{staticClass:"d-flex align-items-center justify-content-between my-2 mx-4"},[i("h4",[e._v(e._s(e.$t("views.client_dashboard.my_reservations.description"))+" "+e._s("upcoming"===e.selectedType?e.$t("generic.future"):e.$t("generic.previous")))])])]),i("div",{staticClass:"d-flex justify-content-end"},[i("button",{staticClass:"btn btn-sm btn-pink btn-pill my-4 px-6",on:{click:function(t){return t.preventDefault(),e.$router.push("/servicii")}}},[e._v(" "+e._s(e.$t("generic.reserve"))+" ")])])]):i("div",[i("a",{staticClass:"back-button",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.onBack()}}},[e._v(" "+e._s(e.$t("generic.back"))+" ")]),i("div",{staticClass:"mt-4"},[i("ul",{staticClass:"summary_list"},[i("li",{staticClass:"d-flex align-items-center"},[e._l(e.getReservationJobs(e.selectedReservation),(function(t){return i("div",{key:t.id,staticClass:"d-flex flex-column align-items-center"},[i("figure",{staticClass:"mb-0"},[t.avatar?i("img",{staticClass:"radius-50 m-1",attrs:{src:t.avatar,alt:"",width:"40px",height:"40px"},on:{click:function(s){return e.onEliteSelect(t.eliteId)}}}):i("img",{staticClass:"radius-50 m-1",attrs:{src:s("4b61"),alt:"",width:"40px",height:"40px"},on:{click:function(s){return e.onEliteSelect(t.eliteId)}}})]),i("a",{staticClass:"ml-2",attrs:{href:""},on:{click:function(e){e.preventDefault()}}},[e._v(e._s(e.getEliteName(t.elite)))])])})),i("span",{staticClass:"ml-2"},[e._v(e._s(e.getStatus(e.selectedReservation.status)))])],2)]),i("h6",[e._v(e._s(e.$t("lbl_reservation_details")))]),i("ul",{staticClass:"summary_list"},[i("li",[i("strong",[e._v(e._s(e.$t("bookings.details.number")))]),e._v(" "+e._s(e.selectedReservation.reservation_id))]),i("li",[i("strong",[e._v(e._s(e.$t("bookings.details.bookingDate")))]),e._v(" "+e._s(e.getCreatedReservationDate))]),i("li",[i("strong",[e._v(e._s(e.$t("views.client_dashboard.my_reservations.address")))]),e._v(" "+e._s(e.getAddress))]),i("li",[i("strong",[e._v(e._s(e.$t("bookings.details.telephone")))]),e._v(" "+e._s(e.selectedReservation.user.phone_number))])]),i("h6",[e._v(e._s(e.$t("reservation_summary")))]),i("ul",{staticClass:"summary_list col-md-6"},[i("li",{staticClass:"my-4"},[i("strong",[e._v(e._s(e.$t("views.client_dashboard.my_reservations.for_the_date_of")))]),e._v(" "+e._s(e.getReservationDate))]),e.isCoupleMassage?i("li",{staticClass:"d-flex justify-content-between"},[i("strong",[e._v(e._s(e.$t("generic.couple_massage"))+" "+e._s(e.selectedReservation.reservation_service.massage_one.service.duration)+" min")]),i("span",[e._v(e._s(e.selectedReservation.reservation_service.price+" Lei"))])]):e._e(),e._l(e.reservationServices,(function(t,s){return[e.reservationServices.length>1?i("li",{key:s},[e._v("Serviciu "+e._s(s+1))]):e._e(),i("li",{key:t.id+"-summary",staticClass:"d-flex justify-content-between"},[i("strong",[e._v(e._s(e.$t(t.name)))]),e.isCoupleMassage?e._e():i("span",[e._v(e._s(t.price+" Lei"))])]),e._l(t.complementaryServices,(function(s){return i("li",{key:s.id+"-"+t.id,staticClass:"d-flex justify-content-between ml-4"},[i("strong",[e._v(e._s(e.$t(s.name)))]),e._v(" "),i("span",[e._v(e._s(s.price+" Lei"))])])})),t.therapeuticForm&&parseInt(t.therapeuticForm.price,10)>0?i("li",{key:t.therapeuticForm.id,staticClass:"d-flex justify-content-between ml-4"},[i("strong",[e._v(e._s(e.$t(t.therapeuticForm.name)))]),e._v(" "),i("span",[e._v(e._s(t.therapeuticForm.price+" Lei"))])]):e._e()]})),i("es-divider"),i("li",{staticClass:"d-flex justify-content-between"},[i("strong",[e._v(e._s(e.$t("bookings.details.subTotal")))]),e._v(" "+e._s(e.selectedReservation.total+" Lei"))]),parseInt(e.selectedReservation.subscription_service_discount,10)>0?i("li",{staticClass:"d-flex justify-content-between"},[i("strong",[e._v("Numele abonamentului")]),e._v(" - "+e._s(e.selectedReservation.subscription_service_discount+" Lei"))]):e._e(),parseInt(e.selectedReservation.subscription_discount,10)>0?i("li",{staticClass:"d-flex justify-content-between"},[i("strong",[e._v(e._s(e.$t("bookings.details.subscriptionDiscount")))]),e._v(" - "+e._s(e.selectedReservation.subscription_discount+" Lei"))]):e._e(),parseInt(e.selectedReservation.promo_code_discount,10)>0?i("li",{staticClass:"d-flex justify-content-between"},[i("strong",[e._v(e._s(e.$t("summary.promo_code")))]),e._v(" - "+e._s(e.selectedReservation.promo_code_discount+" Lei"))]):e._e(),parseInt(e.selectedReservation.gift_card_discount,10)>0?i("li",{staticClass:"d-flex justify-content-between"},[i("strong",[e._v(e._s(e.$t("summary.easeCredit")))]),e._v(" - "+e._s(e.selectedReservation.gift_card_discount+" Lei"))]):e._e(),parseInt(e.selectedReservation.ease_credit_used,10)>0?i("li",{staticClass:"d-flex justify-content-between"},[i("strong",[e._v(e._s(e.$t("summary.easeCredit")))]),e._v(" - "+e._s(e.selectedReservation.ease_credit_used+" Lei"))]):e._e(),i("li",{staticClass:"d-flex justify-content-between"},[i("strong",[e._v(e._s(e.$t("generic.total")))]),e._v(" "+e._s(e.selectedReservation.to_pay+" Lei"))])],2),e.canCancelReservation?i("div",{staticClass:"d-flex justify-content-start"},[i("button",{staticClass:"btn btn-sm btn-pink btn-pill my-4 px-6",on:{click:function(t){t.preventDefault(),e.isConfirmModalOpen=!0}}},[e._v(" "+e._s(e.$t("lbl_cancel_reservation"))+" ")])]):e._e()])])],1)]),e.isPaidCancelation?i("es-confirm-modal",{attrs:{cta:"Anuleaza contracost"},on:{"on-confirm":function(t){return e.onContinue()}},model:{value:e.isConfirmModalOpen,callback:function(t){e.isConfirmModalOpen=t},expression:"isConfirmModalOpen"}},[i("template",{slot:"title"},[e._v(e._s(e.$t("views.client_dashboard.my_reservations.cancel_reservation_title")))]),i("template",{slot:"message"},[i("p",[e._v(e._s(e.getCancelationText))]),i("p",[e._v(e._s(e.$t("generic.this"))+" "),i("a",{attrs:{href:"tbd",target:"_blank"}},[e._v(e._s(e.$t("generic.cancel_policy")))]),e._v(" "+e._s(e.$t("generic.cancel_policy_description")))])])],2):i("es-confirm-modal",{attrs:{cta:"Da, anuleaza gratuit"},on:{"on-confirm":function(t){return e.onContinue()}},model:{value:e.isConfirmModalOpen,callback:function(t){e.isConfirmModalOpen=t},expression:"isConfirmModalOpen"}},[i("template",{slot:"title"},[e._v(e._s(e.$t("views.client_dashboard.my_reservations.cancel_reservation_title")))]),i("template",{slot:"message"},[i("p",[e._v(e._s(e.$t("bookings.details.cancel.free.title")))])])],2)],1)},Ie=[],Ne=(s("caad"),s("2532"),s("2909")),Ve=s("4010"),Ge=r["default"].extend({name:"es-client-reservations",data:function(){return{isListView:!0,isConfirmModalOpen:!1,selectedType:"upcoming",selectedReservation:null}},computed:Object(a["a"])(Object(a["a"])({},Object(f["c"])({getActiveReservations:"reservations/getActiveReservations",getUpcomingReservations:"reservations/getUpcomingReservations",getPastReservations:"reservations/getPastReservations",getReservation:"reservations/getReservation",getCanceledReservation:"reservations/getCanceledReservation"})),{},{canCancelReservation:function(){var e=["waiting_confirmation","confirmed","on_the_way","arrived"];return e.includes(this.selectedReservation.status)},getAddress:function(){var e=this.selectedReservation.user_address;return"".concat(e.street_name,", ").concat(e.street_number,", ").concat(e.city.name)},getCancelationText:function(){var e,t=Object(Ve["a"])(null===(e=this.selectedReservation)||void 0===e?void 0:e.start_time),s="";return s=t>120&&t<240?this.$t("bookings.details.cancel.20.body"):t>60&&t<120?this.$t("bookings.details.cancel.50.body"):this.$t("bookings.details.cancel.100.body"),s},getUpcomingAndActiveReservations:function(){return[].concat(Object(Ne["a"])(this.getActiveReservations),Object(Ne["a"])(this.getUpcomingReservations))},getReservationList:function(){return"upcoming"===this.selectedType?this.getUpcomingAndActiveReservations:this.getPastReservations},getCreatedReservationDate:function(){return Object(Ve["f"])(this.selectedReservation.created_at)},getReservationDate:function(){return Object(Ve["f"])(this.selectedReservation.start_time)},isCoupleMassage:function(){return this.selectedReservation.reservation_service_type.includes("CoupleMassageReservation")},isPaidCancelation:function(){var e,t,s="confirmed"===(null===(e=this.selectedReservation)||void 0===e?void 0:e.status),i=Object(Ve["a"])(null===(t=this.selectedReservation)||void 0===t?void 0:t.start_time);return!!s&&i<240},reservationServices:function(){var e=this.selectedReservation.reservation_service_type,t=this.selectedReservation.reservation_service;if("BeautyReservation"===e){var s=t.beauty_service_reservations,i=s.map((function(e){return{name:e.service.name,price:e.price,id:e.id,complementaryServices:e.complementary_services.map((function(e){return{name:e.complementary_service.name,price:e.price,id:e.id}}))}}));return i}if("CoupleMassageReservation"===e){var n={name:t.massage_one.service.name,price:t.massage_one.price,id:t.massage_one.id,complementaryServices:t.massage_one.complementary_massages.map((function(e){return{name:e.name,price:e.price,id:e.id}})),therapeuticForm:t.massage_one.therapeutic_form},a={name:t.massage_two.service.name,price:t.massage_two.price,id:t.massage_two.id,complementaryServices:t.massage_two.complementary_massages.map((function(e){return{name:e.name,price:e.price,id:e.id}})),therapeuticForm:t.massage_two.therapeutic_form};return[n,a]}if("MassageReservation"===e){var r={name:t.service.name,price:t.price,id:t.id,complementaryServices:t.complementary_massages.map((function(e){return{name:e.name,price:e.price,id:e.id}})),therapeuticForm:t.therapeutic_form};return[r]}if("FitnessReservation"===e){var o={name:t.service.name,price:t.price,id:t.id};return[o]}return t}}),created:function(){this.fetchActiveReservations(),this.fetchUpcomingReservations(),this.fetchPastReservations()},watch:{getCanceledReservation:function(e){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!e||"reservation_cancelled_by_user"!==e.status){s.next=7;break}return s.next=3,t.fetchActiveReservations();case 3:return s.next=5,t.fetchUpcomingReservations();case 5:t.isListView=!0,t.$toasts.toast({id:"cancel-reservation",title:t.$t("generic.success"),message:t.$t("toast.cancel_reservation"),intent:"success"});case 7:case"end":return s.stop()}}),s)})))()}},methods:Object(a["a"])(Object(a["a"])({},Object(f["b"])({fetchUpcomingReservations:"reservations/fetchUpcomingReservations",fetchPastReservations:"reservations/fetchPastReservations",fetchActiveReservations:"reservations/fetchActiveReservations",showReservation:"reservations/showReservation",cancelReservation:"reservations/cancelReservation"})),{},{onEliteSelect:function(e){e&&this.$router.push("/pro/".concat(e))},getEliteName:function(e){var t=null===e||void 0===e?void 0:e.first_name,s=null===e||void 0===e?void 0:e.last_name;return t?"".concat(t," ").concat(null===s||void 0===s?void 0:s.substr(0,1),"."):""},getReservationJobs:function(e){var t=e.reservation_jobs.map((function(e){var t,s;return{elite:e.elite,avatar:null===(t=e.elite)||void 0===t?void 0:t.avatar_path,id:e.id,eliteId:null===(s=e.elite)||void 0===s?void 0:s.id}}));return t},getStatus:function(e){var t={auto_cancelled:this.$t("auto_cancelled"),reservation_cancelled_by_user:this.$t("reservation_cancelled_by_user"),reservation_cancelled_by_elite:this.$t("reservation_cancelled_by_elite"),reservation_cancelled_by_admin:this.$t("auto_cancelled"),payment_ongoing:this.$t("payment_ongoing"),incomplete:this.$t("incomplete"),waiting_confirmation:this.$t("waiting_confirmation"),confirmed:this.$t("confirmed"),on_the_way:this.$t("on_the_way"),arrived:this.$t("arrived"),completed:this.$t("completed"),admin_refunded:this.$t("admin_refunded")};return t[e]},onBack:function(){this.selectedReservation=null,this.isListView=!0},onSelect:function(e){this.selectedReservation=e,this.isListView=!1,this.showReservation(e.id)},getReservationName:function(e){var t=e.reservation_id;return t="CoupleMassageReservation"===e.reservation_service_type?"Masaj Cuplu":"BeautyReservation"===e.reservation_service_type?e.reservation_service.beauty_service_reservations[0].service.name:(e.reservation_service_type,e.reservation_service.service.name),t},onContinue:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=null===(s=e.selectedReservation)||void 0===s?void 0:s.id,!i){t.next=4;break}return t.next=4,e.cancelReservation(i);case 4:case"end":return t.stop()}}),t)})))()}})}),He=Ge,ze=(s("a55c"),Object(u["a"])(He,Ue,Ie,!1,null,null,null)),qe=ze.exports,Be=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"es_client-subscriptions-container content"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("h4",[e._v(e._s(e.$t("generic.subscription_details")))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[e.hasSubscription?s("div",[s("h6",{staticClass:"mt-4"},[e._v(e._s(e.$t(e.getActiveSubscription.subscription.name))+" ("+e._s(e.getActiveSubscription.uses_left)+")")]),s("ul",{staticClass:"summary_list"},[e.hasActiveSubscription?s("div",[s("li",[e._v(e._s(e.$t("views.client_dashboard.subscriptions.next_bill")))]),s("li",[s("strong",[e._v(e._s(e.getActiveSubscription.active_until.substr(0,10)))])])]):e._e(),s("li",[s("strong",[e._v(e._s(e.$t("generic.subscription")))]),e._v(e._s(e.getActiveSubscription.subscription.monthly?e.$t("generic.monthly"):e.$t("generic.anual")))]),s("li",[s("strong",[e._v(e._s(e.$t("generic.status")))]),e._v(e._s(e.hasActiveSubscription?"Activ":"Anulat"))]),s("li",[s("strong",[e._v(e._s(e.$t("generic.price")))]),e._v(e._s(e.getActiveSubscription.subscription.price.price)+" Ron/"+e._s(e.getActiveSubscription.subscription.monthly?e.$t("generic.monthly"):e.$t("generic.year")))])]),e.hasActiveSubscription?s("div",{staticClass:"d-flex justify-content-end"},[s("button",{staticClass:"btn btn-sm btn-pink btn-pill my-4 px-4",on:{click:e.onCancel}},[e._v(" "+e._s(e.$t("generic.cancel_subscription"))+" ")]),s("button",{staticClass:"btn btn-sm btn-pink btn-pill ml-2 my-4 px-4",on:{click:e.onModify}},[e._v(" "+e._s(e.$t("generic.change_subscription"))+" ")])]):s("button",{staticClass:"btn btn-sm btn-pink btn-pill ml-2 my-4 px-4",on:{click:function(t){return e.$router.push("/abonamente")}}},[e._v(" "+e._s(e.$t("generic.activate_a_subscription"))+" ")])]):s("div",[s("div",{staticClass:"d-flex align-items-center justify-content-between"},[s("h4",[e._v(e._s(e.$t("views.client_dashboard.subscriptions.description")))])]),s("div",{staticClass:"d-flex justify-content-end"},[s("button",{staticClass:"btn btn-sm btn-pink btn-pill my-4 px-6",on:{click:function(t){return e.$router.push("/abonamente")}}},[e._v(" "+e._s(e.$t("generic.activate_a_subscription"))+" ")])])])])]),e.isSubscriptionModalOpen?s("es-subscription-modal",{attrs:{id:e.getActiveSubscription.subscription.id,"user-id":e.getActiveSubscription.id,"active-subscription":e.getActiveSubscription},model:{value:e.isSubscriptionModalOpen,callback:function(t){e.isSubscriptionModalOpen=t},expression:"isSubscriptionModalOpen"}}):e._e(),s("es-confirm-modal",{attrs:{cta:"Da, Anuleaza"},on:{"on-confirm":function(t){return e.onContinue()}},model:{value:e.isCancelSubscriptionModalOpen,callback:function(t){e.isCancelSubscriptionModalOpen=t},expression:"isCancelSubscriptionModalOpen"}},[s("template",{slot:"title"},[e._v(e._s(e.$t("generic.cancel_subscription")))]),s("template",{slot:"message"},[s("p",[e._v(e._s(e.$t("subscription.cancel.title")))])])],2)],1)},Je=[],Ke=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("portal",{attrs:{to:"modal"}},[s("es-modal",{attrs:{id:"modal",size:"sm","on-dismiss":function(){return e.$emit("is-open",!1)}}},[s("div",{staticClass:"container es-address-modal mt-12"},[s("div",{staticClass:"es-subscription-modal",attrs:{id:"es-modal-dialog"}},[s("div",{staticClass:"modal_header"},[s("h3",[e._v(e._s(e.$t("generic.change_subscription")))]),s("button",{staticClass:"mfp-close",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$emit("is-open",!1)}}})]),s("div",{staticClass:"es_subscription-tilte"},[s("h5",[e._v(e._s(e.getTitle))])]),s("div",{staticClass:"es_subscription-options d-flex flex-column justify-content-center"},[s("h6",{staticClass:"mt-4 text-center"},[e._v(e._s(e.$t(e.activeSubscription.subscription.name)))]),s("div",{staticClass:"form-group d-flex justify-content-center"},e._l(e.getAvailableSubsctiptions,(function(t){return s("div",{key:t.id,staticClass:"my-2 d-flex flex-row justify-content-center"},[s("button",{class:"btn btn-choice btn-small border px-6 mr-4 selection-item "+(t.id===e.selectedSubscription?"active":""),on:{click:function(s){e.selectedSubscription=t.id}}},[e._v(" "+e._s(e.$t(t.label))+" ")])])})),0),e.getSubscriptionInfo?s("h6",{staticClass:"mt-4 text-center"},[e._v(e._s(e.getSubscriptionInfo.price.price)+" Ron/"+e._s(e.activeSubscription.subscription.monthly?e.$t("generic.monthly"):e.$t("generic.year")))]):e._e()]),s("div",{staticClass:"d-flex justify-content-center"},[s("button",{staticClass:"btn btn-sm btn-pink btn-pill my-4 px-6",attrs:{disabled:e.getSubscriptionInfo&&e.getSubscriptionInfo.id===e.id},on:{click:function(t){t.preventDefault(),e.isConfirmModalOpen=!0}}},[e._v(" "+e._s(e.$t("generic.save"))+" ")])]),s("p",{staticClass:"text-center"},[e._v(e._s(e.$t("views.subscriptions.modify_info")))])])])]),s("es-confirm-modal",{on:{"on-confirm":function(t){return e.onSave()}},model:{value:e.isConfirmModalOpen,callback:function(t){e.isConfirmModalOpen=t},expression:"isConfirmModalOpen"}},[s("template",{slot:"title"},[e._v(e._s(e.$t("subscription.modify.title")))]),s("template",{slot:"message"},[e._v(e._s(e.getSubscriptionInfo&&e.getSubscriptionInfo.label))])],2)],1)},We=[],Ye=(s("7db0"),s("a9e3"),r["default"].extend({name:"es-subscription-modal",model:{prop:"is-open",event:"is-open"},props:{isOpen:{required:!0,type:Boolean},activeSubscription:{required:!0,type:Object},id:{required:!0,type:Number},userId:{required:!0,type:Number}},data:function(){return{selectedSubscription:"",isConfirmModalOpen:!1}},computed:Object(a["a"])(Object(a["a"])({},Object(f["c"])({isFetching:"address/isFetching",getAvailableSubsctiptions:"subscriptions/getAvailableSubscriptions"})),{},{getSubscriptionInfo:function(){var e=this;return this.getAvailableSubsctiptions.find((function(t){return e.selectedSubscription===t.id}))},getTitle:function(){var e=this.activeSubscription.subscription.category,t={beauty:this.$t("views.subscriptions.category_beauty_title"),massage:this.$t("views.subscriptions.category_massage_title"),fitness:this.$t("views.subscriptions.category_fitness_title")};return t[e]}}),created:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.selectedSubscription=e.id,t.next=3,e.fetchAvailableSubscriptions(e.id);case 3:case"end":return t.stop()}}),t)})))()},methods:Object(a["a"])(Object(a["a"])({},Object(f["b"])({getUser:"session/getUser",fetchAvailableSubscriptions:"subscriptions/fetchAvailableSubscriptions",changeSubscription:"subscriptions/changeSubscription"})),{},{setValue:function(e,t){this.subscriptionForm[e]=t},onSave:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.changeSubscription({activeId:e.userId,newId:e.selectedSubscription});case 2:e.isConfirmModalOpen=!1,e.$emit("is-open",!1),e.$toasts.toast({title:e.$t("toast.success_title"),id:"subscription",message:e.$t("subscriptions.modify_info"),intent:"success"});case 5:case"end":return t.stop()}}),t)})))()}})})),Ze=Ye,Qe=Object(u["a"])(Ze,Ke,We,!1,null,null,null),Xe=Qe.exports,et=r["default"].extend({name:"es-client-subscriptions",components:{"es-subscription-modal":Xe},data:function(){return{isCancelSubscriptionModalOpen:!1,isSubscriptionModalOpen:!1}},computed:Object(a["a"])(Object(a["a"])({},Object(f["c"])({getActiveSubscription:"subscriptions/getActiveSubscription"})),{},{getCurrentYear:function(){return(new Date).getFullYear()},hasSubscription:function(){var e,t=(null===(e=this.getActiveSubscription)||void 0===e?void 0:e.uses_left)>0;return!!this.hasActiveSubscription||t},hasActiveSubscription:function(){var e,t;return"upcoming"===(null===(e=this.getActiveSubscription)||void 0===e?void 0:e.state)||"active"===(null===(t=this.getActiveSubscription)||void 0===t?void 0:t.state)}}),created:function(){this.fetchActiveSubscriptions()},methods:Object(a["a"])(Object(a["a"])({},Object(f["b"])({fetchActiveSubscriptions:"subscriptions/fetchActiveSubscriptions",cancelActiveSubscription:"subscriptions/cancelSubscription"})),{},{onCancel:function(){this.isCancelSubscriptionModalOpen=!0},onModify:function(){this.isSubscriptionModalOpen=!0},onContinue:function(){this.cancelActiveSubscription(this.getActiveSubscription.id)}})}),tt=et,st=Object(u["a"])(tt,Be,Je,!1,null,null,null),it=st.exports},1325:function(e,t,s){"use strict";s("df28")},"21af":function(e,t,s){"use strict";s.d(t,"b",(function(){return n})),s.d(t,"a",(function(){return a}));s("0d03"),s("d3b7"),s("25f0");var i=s("55b6"),n=[{label:i["a"].t("generic.account").toString(),to:"cont",role:"client"},{label:i["a"].t("generic.password").toString(),to:"parola",role:"client"},{label:i["a"].t("generic.phone").toString(),to:"telefon",role:"client"},{label:i["a"].t("generic.promote").toString(),to:"recomandare",role:"client"},{label:i["a"].t("generic.address").toString(),to:"adrese",role:"client"},{label:i["a"].t("generic.payment_method").toString(),to:"metode-de-plata",role:"client"},{label:i["a"].t("generic.my_reservations").toString(),to:"rezervarile-mele",role:"client"},{label:i["a"].t("generic.my_orders").toString(),to:"comenzile-mele",role:"client"},{label:i["a"].t("generic.saved_elites").toString(),to:"profesionisti-salvati",role:"client"},{label:i["a"].t("generic.subscriptions").toString(),to:"abonamente",role:"client"},{label:i["a"].t("generic.ease_credit").toString(),to:"credit-ease",role:"client"},{label:i["a"].t("views.client_dashboard.preferences.title").toString(),to:"preferinte",role:"client"}],a=[{label:i["a"].t("generic.account").toString(),to:"cont",role:"pro"},{label:i["a"].t("generic.password").toString(),to:"parola",role:"pro"},{label:i["a"].t("generic.phone").toString(),to:"telefon",role:"pro"},{label:i["a"].t("generic.address").toString(),to:"adrese",role:"pro"},{label:i["a"].t("generic.califications").toString(),to:"calificari",role:"pro"},{label:i["a"].t("generic.documents").toString(),to:"documente",role:"pro"},{label:i["a"].t("generic.recommend").toString(),to:"recomandare",role:"pro"}]},"29f6":function(e,t,s){"use strict";s("8de5")},"4b61":function(e,t,s){e.exports=s.p+"img/pro-placeholder.4547e312.svg"},"57d1":function(e,t,s){},"64e5":function(e,t,s){"use strict";var i=s("d039"),n=s("0ccb").start,a=Math.abs,r=Date.prototype,o=r.getTime,c=r.toISOString;e.exports=i((function(){return"0385-07-25T07:06:39.999Z"!=c.call(new Date(-50000000000001))}))||!i((function(){c.call(new Date(NaN))}))?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),s=e.getUTCMilliseconds(),i=t<0?"-":t>9999?"+":"";return i+n(a(t),i?6:4,0)+"-"+n(e.getUTCMonth()+1,2,0)+"-"+n(e.getUTCDate(),2,0)+"T"+n(e.getUTCHours(),2,0)+":"+n(e.getUTCMinutes(),2,0)+":"+n(e.getUTCSeconds(),2,0)+"."+n(s,3,0)+"Z"}:c},"6a5d":function(e,t,s){"use strict";s.d(t,"a",(function(){return $})),s.d(t,"b",(function(){return R}));var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"es-payment-container"},[s("div",{staticClass:"box_order_form"},[s("div",{staticClass:"head"},[s("div",{staticClass:"title"},[s("h3",[e._v(e._s(e.$t("generic.add_payment_method")))])])]),s("div",{staticClass:"main p-4"},[s("div",{staticClass:"card-element-container p-4"},[e.localIsFetching?s("div",{staticClass:"d-flex justify-content-between"},[s("es-skeleton-item",{attrs:{heigth:"18px",width:"40%"}}),s("es-skeleton-item",{attrs:{heigth:"18px",width:"25%"}})],1):e._e(),s("div",{ref:"card-element",style:{opacity:e.localIsFetching?0:1,heigth:e.localIsFetching?0:"auto"},attrs:{id:"card-element"}})]),s("div",{staticClass:"payment-actions"},[s("a",{attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.onAddCard(t)}}},[e._v(" "+e._s(e.$t("generic.save"))+" ")]),s("a",{staticClass:"ml-4",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.$emit("on-cancel")}}},[e._v(" "+e._s(e.$t("generic.back"))+" ")])])])])])},n=[],a=(s("96cf"),s("1da1")),r=s("5530"),o=s("2b0e"),c=s("2f62"),l="https://js.stripe.com/v3",d=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,u="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",m=function(){for(var e=document.querySelectorAll('script[src^="'.concat(l,'"]')),t=0;t<e.length;t++){var s=e[t];if(d.test(s.src))return s}return null},p=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",s=document.createElement("script");s.src="".concat(l).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(s),s},v=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.12.1",startTime:t})},_=null,f=function(e){return null!==_||(_=new Promise((function(t,s){if("undefined"!==typeof window)if(window.Stripe&&e&&console.warn(u),window.Stripe)t(window.Stripe);else try{var i=m();i&&e?console.warn(u):i||(i=p(e)),i.addEventListener("load",(function(){window.Stripe?t(window.Stripe):s(new Error("Stripe.js not available"))})),i.addEventListener("error",(function(){s(new Error("Failed to load Stripe.js"))}))}catch(n){return void s(n)}else t(null)}))),_},h=function(e,t,s){if(null===e)return null;var i=e.apply(void 0,t);return v(i,s),i},g=Promise.resolve().then((function(){return f(null)})),b=!1;g["catch"]((function(e){b||console.warn(e)}));var C=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];b=!0;var i=Date.now();return g.then((function(e){return h(e,t,i)}))},w=o["default"].extend({name:"es-payment",props:{isFetching:Boolean,isAuthenticated:Boolean},data:function(){return{publicKey:"",clientSecret:"",onPayClientSecret:"",stripe:null,card:null,isCardMounted:!1,localCard:null}},created:function(){this.fetchGiftCardPaymentSetup()},computed:Object(r["a"])(Object(r["a"])({},Object(c["c"])({getPaymentSetup:"giftCards/getPaymentSetup",getCardInfo:"cards/getCardInfo"})),{},{localIsFetching:function(){return this.isFetching||!this.isCardMounted}}),watch:{getPaymentSetup:function(e){e&&(this.clientSecret=e.clientSecret,this.publicKey=e.publicKey,this.setStripe(e))},getCardInfo:function(e){e&&(this.clientSecret=e.clientSecret,this.publicKey=e.publicKey,this.setStripe(e))}},methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])({fetchGiftCardPaymentSetup:"giftCards/fetchGiftCardPaymentSetup",setStripeCard:"cards/setStripeCard",setSelectedCard:"cards/setSelectedCard"})),{},{setStripe:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function s(){var i,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return i=e.publicKey,e.clientSecret,s.next=3,C(i);case 3:t.stripe=s.sent,n={base:{iconColor:"#666ee8",color:"#31325f",fontWeight:400,fontSmoothing:"antialiased",fontSize:"15px","::placeholder":{color:"#aab7c4"},":-webkit-autofill":{color:"#666ee8"}}},t.card=t.stripe.elements().create("card",{hidePostalCode:!0,style:n}),t.card.mount("#card-element"),t.card.on("ready",(function(e){t.isCardMounted=!0}));case 8:case"end":return s.stop()}}),s)})))()},createToken:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.stripe.createToken(e.card).then((function(t){if(t.error)e.$toasts.toast({title:e.$t("toast.error_title"),id:"card",message:t.error.message,intent:"error"});else{var s=t.token,i=s.card,n=s.id;e.setStripeCard(Object(r["a"])(Object(r["a"])({},i),{},{token_id:n})),e.localCard=Object(r["a"])(Object(r["a"])({},i),{},{token_id:n}),e.cardSetup()}}));case 2:case"end":return t.stop()}}),t)})))()},cardSetup:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.stripe.confirmCardSetup(e.clientSecret,{payment_method:{card:e.card}}).then((function(t){t.error?e.$toasts.toast({title:e.$t("toast.error_title"),id:"card",message:t.error.message,intent:"error"}):(e.setSelectedCard(e.localCard),e.$emit("on-add-card",e.localCard))}));case 2:case"end":return t.stop()}}),t)})))()},onAddCard:function(){this.createToken()}})}),y=w,x=(s("1325"),s("2877")),O=Object(x["a"])(y,i,n,!1,null,null,null),$=O.exports,S=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"es_payment-details-container"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!e.showAddPayment,expression:"!showAddPayment"}]},[s("h5",[e._v(e._s(e.$t("generic.payment_method")))]),e.getLocalCards.length?s("div",[s("p",[e._v(e._s(e.$t("generic.select_payment_method")))]),s("div",{staticClass:"row mb-4"},[s("div",{staticClass:"col-6"},[s("div",{staticClass:"my-2 form-group"},[s("div",{staticClass:"custom_select submit"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.getSelectedCard,expression:"getSelectedCard"}],staticClass:"form-control wide",attrs:{name:"credit-card",id:"credit-card"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.getSelectedCard=t.target.multiple?s:s[0]}}},e._l(e.getCards,(function(t){return s("option",{key:t.id,domProps:{value:t.id}},[e._v("   "+e._s(t.brand.toUpperCase())+" **** "+e._s(t.last4)+" ")])})),0)])])])])]):e._e(),s("a",{staticClass:"mt-4",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.addPayment()}}},[s("i",{staticClass:"icon_plus"}),e._v(" "+e._s(e.$t("generic.add_new_payment_method"))+" ")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showAddPayment,expression:"showAddPayment"}]},[s("h5",[e._v(e._s(e.$t("generic.add_new_payment_method")))]),s("es-payment",{staticClass:"mt-4",attrs:{"is-fetching":e.isFetching,"is-authenticated":!!e.isAuthenticated},on:{"on-add-card":e.onAddCard,"on-cancel":function(t){e.showAddPayment=!1}}})],1),e._t("default")],2)},k=[],j=(s("7db0"),s("4160"),s("159b"),s("e1bd")),P=o["default"].extend({name:"es-payment-detail-view",components:{"es-payment":$},data:function(){return{showAddPayment:!1,selectedCard:null,isSubscriptionActivated:!1}},computed:Object(r["a"])(Object(r["a"])({},Object(c["c"])({getSelectedSubscription:"subscriptions/getSelectedSubscription",getErrors:"subscriptions/getErrors",getCards:"cards/getCards",getStripeCards:"cards/getStripeCards",isAuthenticated:"session/isAuthenticated",isFetching:"cards/isFetching"})),{},{getLocalCards:function(){return this.isAuthenticated?this.getCards:this.getStripeCards},getSelectedCard:{get:function(){return this.selectedCard},set:function(e){var t=this.getLocalCards.find((function(t){return t.id===e}));this.setSelectedCard(t)}}}),watch:{getCards:function(e){if(e&&e.length){var t=e[e.length-1];this.selectedCard=t.id,this.setSelectedCard(t)}},getErrors:function(e){var t=this;e.length&&e.forEach((function(e){t.$toasts.toasts.push({title:t.$t("toast.error_title"),intent:400===e.status?"error":"warning",message:e.data.error,id:Object(j["a"])()})}))}},created:function(){this.isAuthenticated&&this.fetchCards()},destroyed:function(){window.destroyCustomSelect(),this.removeStripeCards()},methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])({fetchCards:"cards/fetchCards",setSelectedCard:"cards/setSelectedCard",removeStripeCards:"cards/removeStripeCards",addCard:"cards/addCard"})),{},{onAddCard:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!t.isAuthenticated){s.next=3;break}return s.next=3,t.fetchCards();case 3:t.selectedCard=e.id,t.setSelectedCard(e),t.showAddPayment=!1;case 6:case"end":return s.stop()}}),s)})))()},addPayment:function(){this.isAuthenticated&&this.addCard(),this.showAddPayment=!0}})}),A=P,M=Object(x["a"])(A,S,k,!1,null,null,null),R=M.exports},"712c":function(e,t,s){"use strict";s("dfad")},"8cd4":function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var i=function(e){var t=document.createElement("input");t.style.opacity="0",t.setAttribute("value",e),document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}},"8de5":function(e,t,s){},9710:function(e,t,s){},a55c:function(e,t,s){"use strict";s("9710")},a8bf:function(e,t,s){"use strict";s("d939")},accc:function(e,t,s){var i=s("23e7"),n=s("64e5");i({target:"Date",proto:!0,forced:Date.prototype.toISOString!==n},{toISOString:n})},d55e:function(e,t,s){"use strict";s("57d1")},d939:function(e,t,s){},df28:function(e,t,s){},dfad:function(e,t,s){}}]);
//# sourceMappingURL=chunk-023f7142.0b5775d0.js.map