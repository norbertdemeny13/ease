(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ac50c024"],{"058a":function(e,t,s){},"38ec":function(e,t,s){"use strict";s("058a")},6388:function(e,t,s){"use strict";s.d(t,"a",(function(){return u}));var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"es_additional-services-container"},[s("h4",{staticClass:"my-4"},[e._v(e._s(e.$t("generic.add")))]),e._l(e.services,(function(t){return s("div",{key:t.id,staticClass:"extra-services-container row my-4 ml-0"},[s("div",{staticClass:"d-flex flex-row p-2 w-100"},[s("img",{staticClass:"img-fluid lazy",attrs:{src:t.complementary_service.absolute_image_url_small,"data-src":t.complementary_service.absolute_image_url_small,alt:"",width:"80px",height:"60px"}}),s("div",{staticClass:"d-flex flex-column flex-grow-1 ml-2 px-2"},[s("h5",[e._v(e._s(e.$t(t.complementary_service.name)))]),s("div",{staticClass:"d-flex justify-content-between"},[s("p",{staticClass:"m-0"},[e._v(e._s(t.complementary_service.price)+" Lei "+e._s("nails"===e.$router.currentRoute.params.type?"/ unghie":""))]),s("div",{staticClass:"form-group"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedCount,expression:"service.selectedCount"}],staticClass:"form-control",on:{change:[function(s){var r=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"selectedCount",s.target.multiple?r:r[0])},function(t){return e.$emit("on-count-change")}]}},e._l(e.getServiceCount(t),(function(t){return s("option",{key:t.value,domProps:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),0)])])])])])}))],2)},i=[],n=(s("cb29"),s("d81d"),s("2b0e")),a=n["default"].extend({name:"es-complementary-services",props:{services:{type:Array,default:null}},methods:{getServiceCount:function(e){var t=e.max_count||11;return new Array(t+1).fill(1).map((function(e,t){return{value:t,label:t}}))}}}),c=a,o=(s("38ec"),s("2877")),l=Object(o["a"])(c,r,i,!1,null,null,null),u=l.exports},"80df":function(e,t,s){"use strict";s.r(t),s.d(t,"ServiceDetails",(function(){return R}));var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[s("div",{staticClass:"es_service-details-page container margin_30_20"},[s("a",{staticClass:"back-button",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.onBack(t)}}},[e._v(" "+e._s(e.$t("generic.back"))+" ")]),e.isFetching?s("es-service-details-skeleton"):s("div",{staticClass:"row my-4"},[s("div",{staticClass:"col-xl-6 col-lg-6 col-md-6"},[s("img",{attrs:{src:e.service.absolute_image_url_large,width:"500",height:"350"}})]),s("div",{staticClass:"col-xl-6 col-lg-6 col-md-6"},[s("h2",[e._v(e._s(e.$t(e.service.name)))]),s("p",[e._v(e._s(e.$t(e.service.description)))]),e.service.complementary_services.length?s("es-complementary-services",{attrs:{services:e.service.complementary_services},on:{"on-count-change":e.onCountChange}}):e._e(),e.additionalServices.length?s("es-additional-services",{attrs:{services:e.additionalServices},on:{"on-remove-service":e.onRemoveAdditionalService}}):e._e(),e.canAddAdditionalServices?s("div",{staticClass:"d-flex justify-content-start"},[s("a",{staticClass:"mt-4",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.onAddAdditionalService(t)}}},[s("i",{staticClass:"icon_plus"}),e._v(" "+e._s(e.$t("generic.add_more"))+" ")])]):e._e(),s("div",{staticClass:"d-flex justify-content-center"},[s("a",{staticClass:"btn btn-sm btn-pink btn-pill mt-4 px-6",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.onContinue(t)}}},[e._v(" "+e._s(e.$t("generic.continue"))+" ")])])],1)])],1)])},i=[],n=(s("99af"),s("d81d"),s("fb6a"),s("96cf"),s("1da1")),a=s("5530"),c=s("2b0e"),o=s("e1bd"),l=s("2f62"),u=s("6388"),v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h4",{staticClass:"my-4"},[e._v(e._s(e.$t("beauty.additional")))]),r("div",{staticClass:"added-services-container row my-4 ml-0"},e._l(e.services,(function(t,i){return r("div",{key:""+t.id+i,staticClass:"d-flex flex-column p-4 m-2 w-100"},[r("div",{staticClass:"d-flex alig-items-center justify-content-between"},[r("h5",{staticClass:"m-0"},[e._v(e._s(e.$t(t.name)))]),r("img",{staticClass:"img-fluid lazy mr-2",attrs:{src:s("9ea4"),alt:"",width:"13px",height:"13px"},on:{click:function(s){return e.$emit("on-remove-service",t)}}})]),e._l(e.getComplementaryServices(t).services,(function(t){return r("div",{key:t.id,staticClass:"d-flex justify-content-between align-items-center flex-inline"},[r("span",[e._v(e._s(t.selectedCount)+" x "+e._s(t.name))]),r("span",[e._v(e._s(t.selectedCount*parseInt(t.price,10))+" Lei")])])}))],2)})),0)])},d=[],m=(s("4de4"),s("b0c0"),c["default"].extend({name:"es-service-details-additional-services",props:{services:{type:Array,required:!0}},methods:{getComplementaryServices:function(e){var t=e.complementary_services||[],s=t.filter((function(e){return e.selectedCount>0})).map((function(e){var t=e.id,s=e.complementary_service,r=e.selectedCount;return{name:s.name,price:s.price,id:t,selectedCount:r}}));return{name:e.name,services:s}}}})),p=m,f=s("2877"),h=Object(f["a"])(p,v,d,!1,null,null,null),g=h.exports,_=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("es-skeleton",{staticClass:"es_service-details-container my-4"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("es-skeleton-item",{staticClass:"mb-4",attrs:{height:"350px",width:"80%"}})],1),s("div",{staticClass:"col-6"},[s("es-skeleton-item",{staticClass:"mb-4",attrs:{height:"16px",width:"60%"}}),s("es-skeleton-item",{staticClass:"mb-4",attrs:{width:"30%"}}),s("es-skeleton-item",{staticClass:"mb-4",attrs:{height:"14px",width:"40%"}}),s("es-skeleton-item",{staticClass:"mb-4",attrs:{height:"50px",width:"60%"}}),s("es-skeleton-item",{staticClass:"mb-4 ml-2",attrs:{width:"25%"}}),s("div",{staticClass:"row"},[s("div",{staticClass:"col-5"}),s("es-skeleton-item",{staticClass:"col-2 mb-4",attrs:{height:"30px",width:"20%"}})],1)],1)])])},b=[],x=c["default"].extend({name:"es-service-details-skeleton"}),C=x,y=Object(f["a"])(C,_,b,!1,null,null,null),w=y.exports,$=c["default"].extend({name:"es-service-details",components:{"es-complementary-services":u["a"],"es-additional-services":g,"es-service-details-skeleton":w},computed:Object(a["a"])(Object(a["a"])({},Object(l["c"])({getReservationServices:"services/getReservationServices",getReservationDetails:"services/getReservationDetails",getServiceById:"services/getServiceById",getSelectedServices:"services/getSelectedServices",isFetching:"services/isFetching",isAuthenticated:"session/isAuthenticated",getUser:"session/getUser"})),{},{canAddAdditionalServices:function(){var e="fitness"===this.service.category,t=this.getSelectedServices.length;return!e&&t<4},service:function(){var e=this.getSelectedServices[0],t=(null===e||void 0===e?void 0:e.complementary_services)||[],s=t.map((function(e){return Object(a["a"])({selectedCount:0},e)}));return Object(a["a"])(Object(a["a"])({},e),{},{complementary_services:s||[]})},additionalServices:function(){return this.getSelectedServices.slice(1)}}),created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var s,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s=e.$router.currentRoute.params.type,r="fitness"===s?s:"beauty",i=Object(a["a"])(Object(a["a"])({},e.getServiceById),{},{serviceType:r,serviceCategory:"main",tempServiceId:Object(o["a"])()}),e.getSelectedServices.length){t.next=6;break}return t.next=6,e.$store.commit("services/setSelectedService",{service:i,method:"create"});case 6:case"end":return t.stop()}}),t)})))()},methods:Object(a["a"])(Object(a["a"])({},Object(l["b"])({createReservation:"services/createReservation",fetchServiceById:"services/fetchServiceById"})),{},{onAddAdditionalService:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s=e.$router.currentRoute.params.type,!e.isAuthenticated){t.next=14;break}if(e.getUser.phone_number_confirmed){t.next=5;break}return e.$root.$emit("on-show-validate-phone-modal"),t.abrupt("return");case 5:if(e.getUser.addresses.length){t.next=8;break}return e.$root.$emit("on-show-address-modal"),t.abrupt("return");case 8:return t.next=10,e.$store.dispatch("services/createReservation");case 10:return t.next=12,e.$router.push("/new/servicii/".concat(s));case 12:t.next=15;break;case 14:e.$root.$emit("on-show-login");case 15:case"end":return t.stop()}}),t)})))()},onBack:function(){var e=this.$router.currentRoute.query,t=null!==e&&void 0!==e&&e.pro_id?"/servicii/".concat(this.$router.currentRoute.params.type,"?pro_id=").concat(e.pro_id):"/servicii/".concat(this.$router.currentRoute.params.type);this.$router.push(t),this.$store.commit("services/removeSelectedServices"),this.$store.commit("services/removeReservationDetails")},onCountChange:function(){this.$store.commit("services/setSelectedService",{service:this.service,method:"update"})},onContinue:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var s,r,i,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s=e.$router.currentRoute.query,r=null===s||void 0===s?void 0:s.pro_id,i=e.$router.currentRoute.params,i.id,n=i.type,"fitness"===n?n:"beauty",!e.isAuthenticated){t.next=20;break}if("elite"!==e.getUser.userType){t.next=8;break}return e.$toasts.toast({id:"warning-toast",intent:"warning",message:e.$t("toast.login_as_client"),title:e.$t("toast.warning_title")}),t.abrupt("return");case 8:if(e.getUser.phone_number_confirmed){t.next=11;break}return e.$root.$emit("on-show-validate-phone-modal"),t.abrupt("return");case 11:if(e.getUser.addresses.length){t.next=14;break}return e.$root.$emit("on-show-address-modal"),t.abrupt("return");case 14:if(e.getReservationDetails&&"waiting_confirmation"!==(null===(a=e.getReservationDetails)||void 0===a?void 0:a.status)){t.next=17;break}return t.next=17,e.$store.dispatch("services/createReservation",r);case 17:e.$router.push("".concat(e.$router.currentRoute.path,"/rezerva")),t.next=21;break;case 20:e.$root.$emit("on-show-login");case 21:case"end":return t.stop()}}),t)})))()},onRemoveAdditionalService:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$store.dispatch("services/removeExtraServiceReservation",{id:e.id});case 2:return s.next=4,t.$store.commit("services/removeSelectedService",e);case 4:case"end":return s.stop()}}),s)})))()}})}),S=$,k=Object(f["a"])(S,r,i,!1,null,null,null),R=k.exports},"81d5":function(e,t,s){"use strict";var r=s("7b0b"),i=s("23cb"),n=s("50c4");e.exports=function(e){var t=r(this),s=n(t.length),a=arguments.length,c=i(a>1?arguments[1]:void 0,s),o=a>2?arguments[2]:void 0,l=void 0===o?s:i(o,s);while(l>c)t[c++]=e;return t}},"9ea4":function(e,t,s){e.exports=s.p+"img/trash-can.8c613220.svg"},cb29:function(e,t,s){var r=s("23e7"),i=s("81d5"),n=s("44d2");r({target:"Array",proto:!0},{fill:i}),n("fill")}}]);
//# sourceMappingURL=chunk-ac50c024.b4a360c6.js.map