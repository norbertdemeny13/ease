(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2fda1886"],{"0b3b":function(e,t,s){},"229d":function(e,t,s){"use strict";s.r(t),s.d(t,"ReserveService",(function(){return D}));var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"es_reserve-service-container"},[s("div",{staticClass:"container margin_30_40"},[s("router-link",{staticClass:"back-button mb-2",attrs:{to:e.getToRoute}},[e._v(e._s(e.$t("generic.back")))]),e.isFetching?s("es-reserve-service-skeleton"):s("div",{staticClass:"row mt-4"},[s("div",{staticClass:"col-lg-6 col-md-6 pt-2 bg_gray"},[s("h5",{staticClass:"pl-5 my-2"},[e._v(e._s(e.$t("calendar.title")))]),s("div",{staticClass:"date-container col-12 owl-carousel owl-theme categories_carousel_in pl-5"},e._l(e.getDays,(function(t){return s("div",{key:t.id,class:"day-item "+(t.disabled?"disabled":""),on:{click:function(s){!t.disabled&&e.selectDate(t)}}},[s("p",{staticClass:"day"},[e._v(e._s(t.value))]),s("p",{staticClass:"day-string"},[e._v(e._s(t.name))]),t.id===e.selectedDate.id?s("span",[s("em")]):e._e()])})),0),s("div",{staticClass:"hour-container my-2 pl-5"},e._l(e.getHours,(function(t){return s("div",{key:t.id,class:"hour-item m-2 "+(e.selectedTime&&e.selectedTime.id===t.id?"selected":"")+" "+(t.disabled?"disabled":""),on:{click:function(s){return e.selectTime(t)}}},[s("p",{staticClass:"time  mb-0"},[e._v(e._s(t.time))]),s("p",{staticClass:"price mb-0"},[e._v(e._s(t.price)+" Lei")])])})),0)]),s("div",{staticClass:"col-lg-6 col-md-6"},[s("es-service-summary",{attrs:{date:e.selectedDate,time:e.selectedTime,"show-total":!1}}),s("div",{staticClass:"d-flex justify-content-center"},[s("button",{staticClass:"btn btn-sm btn-pink btn-pill mt-4 px-6",attrs:{disabled:!e.selectedTime},on:{click:function(t){return t.preventDefault(),e.onContinue(t)}}},[e._v(" "+e._s(e.$t("generic.continue"))+" ")])])],1)])],1)])},r=[],a=(s("99af"),s("4de4"),s("d81d"),s("3835")),c=(s("96cf"),s("1da1")),n=s("5530"),o=s("2b0e"),l=s("2f62"),u=s("e1bd"),d=s("4010"),v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ml-2 box_order"},[s("div",{staticClass:"head"},[s("h3",[e._v(e._s(e.$t("lbl_reservation_details")))])]),s("div",{staticClass:"main"},[s("ul",[s("li",[e._v(e._s(e.$t("generic.date"))),s("span",[e._v(e._s(e.getDate))])]),s("li",[e._v(e._s(e.$t("generic.hour"))),s("span",[e._v(e._s(e.getHour))])])]),s("hr"),"couple"===e.getCategoryType()?s("div",{staticClass:"d-flex justify-content-between align-items-center flex-inline"},[s("h3",[e._v(e._s(e.$t("generic.couple_massage"))+" "+e._s(e.getSelectedServices[0].massageForm.duration)+" min")]),s("h5",[e._v(e._s(e.time.price)+" Lei")])]):e._e(),e._l(e.getLocalSelectedServices,(function(t,i){return s("ul",{key:""+t.id+i,staticClass:"clearfix"},[s("span",{staticClass:"text-gray"},[e._v("Serviciu "+e._s(i+1))]),s("div",{staticClass:"d-flex justify-content-between align-items-center flex-inline"},[s("h3",[e._v(e._s(e.$t(t.name)))]),"couple"!==e.getCategoryType()?s("h5",[e._v(e._s(e.getServicePrice(t))+" Lei")]):e._e()]),e._l(t.services,(function(t){return s("li",{key:t.id},[s("p",[s("span",[e._v(e._s(t.selectedCount)+" x "+e._s(t.name))])]),s("span",[e._v(e._s(t.selectedCount*("0"===t.price?e.hourPrice:t.price))+" Lei")])])})),t.isWithAromaterapeutic?s("li",[s("span",[e._v(e._s(e.$t(t.terapeuticForm.name)))]),s("span",[e._v(e._s(t.terapeuticForm.price))])]):e._e()],2)})),s("ul",{staticClass:"clearfix"},[e.activeSubscription?s("li",[e._v("Discount Ab. "+e._s(e.activeSubscription.subscription.discount)+"%"),s("span",[e._v(e._s(e.getDiscount)+" Lei")])]):e._e(),s("li",[e._v(e._s(e.$t("bookings.details.subTotal"))),s("span",[e._v(e._s(e.getTotal)+" Lei")])]),e.showTotal?s("li",{staticClass:"total"},[e._v(e._s(e.$t("bookings.details.totalCharged"))),s("span",[e._v(e._s(e.getTotal-e.getDiscount)+" Lei")])]):e._e()])],2)])},m=[],p=(s("4160"),s("b0c0"),s("b680"),s("e25e"),s("159b"),o["default"].extend({name:"es-service-summary",props:{date:{type:Object,required:!0},time:{type:Object,required:!0},showTotal:{default:!0,type:Boolean},activeSubscription:{type:Object,default:null}},data:function(){return{hourPrice:0}},computed:Object(n["a"])(Object(n["a"])({},Object(l["c"])({getSelectedServices:"services/getSelectedServices"})),{},{getLocalSelectedServices:function(){var e=this;return this.getSelectedServices.map((function(t){var s="single"===t.category||"couple"===t.category,i=s?e.getMassageServices(t):e.getBeautyServices(t),r=t.massageForm&&"aromaterapeutic"===t.massageForm.form,a=r&&t.therapeutic_forms[1]||null;return{name:t.name,services:i,id:t.id,uuid:t.tempServiceId,prices:t.price,massageType:t.massageType,isWithAromaterapeutic:r,terapeuticForm:a}}))},getDiscount:function(){return(this.activeSubscription?this.getTotal*(this.activeSubscription.subscription.discount/100):0).toFixed(2)},getDate:function(){var e,t=null===(e=this.date)||void 0===e?void 0:e.date;return t?Object(d["e"])(t):""},getHour:function(){var e=this.time.time;return e},getTotal:function(){var e=this,t=parseInt(this.time.price,10),s=this.getSelectedServices[0].category,i="single"===s||"couple"===s;return this.getSelectedServices.forEach((function(s){var r=i?e.getMassageServicesTotal(s):e.getBeautyServicesTotal(s);t+=r})),t}}),methods:{removeService:function(e,t){var s=e.uuid,i=null===e||void 0===e?void 0:e.massageType,r=t.id,a=null;a=i?this.getSelectedServices.filter((function(e){return e.tempServiceId===s&&e.massageType===i}))[0]:this.getSelectedServices.filter((function(e){return e.tempServiceId===s}))[0];var c=a.complementary_services.filter((function(e){return e.id===r}))[0];c.selectedCount=0},getCategoryType:function(){return this.getSelectedServices[0].category},getBeautyServices:function(e){var t=(null===e||void 0===e?void 0:e.complementary_services)||[];return t.filter((function(e){return e.selectedCount>0})).map((function(e){var t=e.id,s=e.complementary_service,i=e.selectedCount;return{name:s.name,price:s.price,id:t,selectedCount:i}}))},getBeautyServicesTotal:function(e){var t=0,s=e.complementary_services||[];return s.filter((function(e){return e.selectedCount>0})).forEach((function(e){return t+=e.selectedCount*parseInt(e.complementary_service.price)}),10),t},getMassageServices:function(e){var t=(null===e||void 0===e?void 0:e.complementary_services)||[],s=t.filter((function(e){return e.selectedCount>0})),i=s||s[0].is_four_hands;return s.map((function(e){var t=e.uuid,s=e.id,r=e.name,a=e.price;return{name:r,price:a,uuid:t,id:s,selectedCount:1,isFourHands:i}}))},getMassageServicesTotal:function(e){var t=this,s=0,i=e.complementary_services||[],r=i.filter((function(e){return e.selectedCount>0}));if(r.forEach((function(e){return s+=1*parseInt("0"===e.price?t.hourPrice:e.price)}),10),e.massageForm&&"aromaterapeutic"===e.massageForm.form){var a=e.therapeutic_forms[1].price;s+=parseInt(a,10)}return s},getServicePrice:function(e){var t=e.uuid,s=this.getSelectedServices.filter((function(e){return e.tempServiceId===t}))[0],i=Object(n["a"])(Object(n["a"])({},this.time),this.date),r=Object(d["b"])(i,s.prices);return this.hourPrice=r,r}}})),g=p,h=s("2877"),f=Object(h["a"])(g,v,m,!1,null,null,null),_=f.exports,b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("es-skeleton",{staticClass:"es_service-details-container my-4"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6 d-flex flex-column align-items-center text-center"},[s("es-skeleton-item",{staticClass:"mb-4",attrs:{height:"350px",width:"80%"}}),s("es-skeleton-item",{staticClass:"mb-4",attrs:{height:"16px",width:"60%"}}),s("es-skeleton-item",{staticClass:"mb-4",attrs:{height:"14px",width:"40%"}})],1),s("div",{staticClass:"col-6"},[s("es-skeleton-item",{staticClass:"row mb-4",attrs:{height:"16px",width:"40%"}}),s("div",{staticClass:"row"},[s("es-skeleton-item",{staticClass:"col-3 mb-2",attrs:{height:"14px",width:"40%"}})],1),s("div",{staticClass:"row mb-2"},e._l(3,(function(e){return s("es-skeleton-item",{key:e,staticClass:"col-3 mr-2 my-2",attrs:{height:"40px",width:"100%"}})})),1),s("div",{staticClass:"row"},[s("es-skeleton-item",{staticClass:"col-3 mb-2",attrs:{height:"14px",width:"40%"}})],1),s("div",{staticClass:"row mb-2"},e._l(3,(function(e){return s("es-skeleton-item",{key:e,staticClass:"col-3 mr-2 my-2",attrs:{height:"40px",width:"100%"}})})),1),s("div",{staticClass:"row"},[s("es-skeleton-item",{staticClass:"col-3 mb-2",attrs:{height:"14px",width:"40%"}})],1),s("div",{staticClass:"row mb-2"},e._l(2,(function(e){return s("es-skeleton-item",{key:e,staticClass:"col-3 mr-2 my-2",attrs:{height:"40px",width:"100%"}})})),1)],1)])])},C=[],S=o["default"].extend({name:"es-reserve-service-skeleton"}),y=S,w=Object(h["a"])(y,b,C,!1,null,null,null),x=w.exports,k=o["default"].extend({name:"es-reserve-service",components:{"es-service-summary":_,"es-reserve-service-skeleton":x},data:function(){return{selectedDate:null,selectedTime:null,getDays:[]}},computed:Object(n["a"])(Object(n["a"])({},Object(l["c"])({getServiceById:"services/getServiceById",getSelectedServices:"services/getSelectedServices",getReservationDetails:"services/getReservationDetails",isAuthenticated:"session/isAuthenticated",isFetching:"services/isFetching"})),{},{getHours:function(){var e,t=(null===(e=this.getReservationDetails)||void 0===e?void 0:e.reservation_calendar)||[];return t.map((function(e){return Object(n["a"])(Object(n["a"])({},e),{},{id:Object(u["a"])()})})).filter((function(e){var t=e.disabled;return!t}))},getToRoute:function(){var e=this.$router.currentRoute.params,t=e.id,s=e.type,i="single"===s||"couple"===s;return i?"/servicii/masaj?type=".concat(s):"/servicii/".concat(s,"/").concat(t)}}),watch:{isFetching:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$nextTick();case 2:window.initDayCarousel(),e.setTime();case 4:case"end":return t.stop()}}),t)})))()}},mounted:function(){window.initDayCarousel()},created:function(){this.setTime()},methods:Object(n["a"])(Object(n["a"])({},Object(l["b"])({addServiceReservationDate:"services/addServiceReservationDate",setSelectedDate:"services/setSelectedDate",setSelectedTime:"services/setSelectedTime",getReservationCalendar:"services/getReservationCalendar"})),{},{onContinue:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isAuthenticated){t.next=7;break}return t.next=3,e.addServiceReservationDate();case 3:s="".concat(e.$router.currentRoute.fullPath,"/plata"),e.$router.push(s),t.next=8;break;case 7:e.$root.$emit("on-show-login");case 8:case"end":return t.stop()}}),t)})))()},selectDate:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function s(){var i,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return t.setSelectedDate(e),t.selectedDate=e,s.next=4,t.getReservationCalendar();case 4:i=Object(a["a"])(t.getHours,1),r=i[0],t.setSelectedTime(r),t.selectedTime=r,window.initDayCarousel();case 8:case"end":return s.stop()}}),s)})))()},selectTime:function(e){this.setSelectedTime(e),this.selectedTime=e},setTime:function(){var e,t=(null===(e=this.getReservationDetails)||void 0===e?void 0:e.reservation_dates)||[],s=Object(d["c"])(t),i=Object(a["a"])(s,1),r=i[0],c=Object(a["a"])(this.getHours,1),n=c[0];this.getDays=s,this.setSelectedDate(r),this.selectedDate=r,this.setSelectedTime(n),this.selectedTime=n}})}),T=k,j=(s("6cc8"),Object(h["a"])(T,i,r,!1,null,"2ff3d5b6",null)),D=j.exports},"6cc8":function(e,t,s){"use strict";s("0b3b")}}]);
//# sourceMappingURL=chunk-2fda1886.ffbaee63.js.map